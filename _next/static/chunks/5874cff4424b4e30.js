(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51513,(t,e,i)=>{t.e,e.exports=function(){var e=[function(e,i){var n,s={};e.exports=s,s._baseDelta=1e3/60,s._nextId=0,s._seed=0,s._nowStartTime=+new Date,s._warnedOnce={},s._decomp=null,s.extend=function(t,e){var i,n;"boolean"==typeof e?(i=2,n=e):(i=1,n=!0);for(var r=i;r<arguments.length;r++){var o=arguments[r];if(o)for(var a in o)n&&o[a]&&o[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=o[a]:(t[a]=t[a]||{},s.extend(t[a],n,o[a])):t[a]=o[a]}return t},s.clone=function(t,e){return s.extend({},e,t)},s.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},s.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),n=0;n<i.length;n++)e.push(t[i[n]]);return e}for(var s in t)e.push(t[s]);return e},s.get=function(t,e,i,n){e=e.split(".").slice(i,n);for(var s=0;s<e.length;s+=1)t=t[e[s]];return t},s.set=function(t,e,i,n,r){var o=e.split(".").slice(n,r);return s.get(t,e,0,-1)[o[o.length-1]]=i,i},s.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(s.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t},s.choose=function(t){return t[Math.floor(s.random()*t.length)]},s.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},s.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},s.isFunction=function(t){return"function"==typeof t},s.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},s.isString=function(t){return"[object String]"===toString.call(t)},s.clamp=function(t,e,i){return t<e?e:t>i?i:t},s.sign=function(t){return t<0?-1:1},s.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();else if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-s._nowStartTime},s.random=function(t,e){return e=void 0!==e?e:1,(t=void 0!==t?t:0)+n()*(e-t)},n=function(){return s._seed=(9301*s._seed+49297)%233280,s._seed/233280},s.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},s.logLevel=1,s.log=function(){console&&s.logLevel>0&&s.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.info=function(){console&&s.logLevel>0&&s.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.warn=function(){console&&s.logLevel>0&&s.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");s._warnedOnce[t]||(s.warn(t),s._warnedOnce[t]=!0)},s.deprecated=function(t,e,i){t[e]=s.chain(function(){s.warnOnce("ðŸ”… deprecated ðŸ”…",i)},t[e])},s.nextId=function(){return s._nextId++},s.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return -1},s.map=function(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n+=1)i.push(e(t[n]));return i},s.topologicalSort=function(t){var e=[],i=[],n=[];for(var r in t)i[r]||n[r]||s._topologicalSort(r,i,n,t,e);return e},s._topologicalSort=function(t,e,i,n,r){var o=n[t]||[];i[t]=!0;for(var a=0;a<o.length;a+=1){var l=o[a];!i[l]&&(e[l]||s._topologicalSort(l,e,i,n,r))}i[t]=!1,e[t]=!0,r.push(t)},s.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var n=function(){for(var e,i=Array(arguments.length),n=0,s=arguments.length;n<s;n++)i[n]=arguments[n];for(n=0;n<t.length;n+=1){var r=t[n].apply(e,i);void 0!==r&&(e=r)}return e};return n._chained=t,n},s.chainPathBefore=function(t,e,i){return s.set(t,e,s.chain(i,s.get(t,e)))},s.chainPathAfter=function(t,e,i){return s.set(t,e,s.chain(s.get(t,e),i))},s.setDecomp=function(t){s._decomp=t},s.getDecomp=function(){var e=s._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||(e=t.g.decomp)}catch(t){e=null}return e}},function(t,e){var i={};t.exports=i,i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var n=0;n<e.length;n++){var s=e[n];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,n=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+n}},function(t,e){var i={};t.exports=i,i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var n=Math.cos(e),s=Math.sin(e);i||(i={});var r=t.x*n-t.y*s;return i.y=t.x*s+t.y*n,i.x=r,i},i.rotateAbout=function(t,e,i,n){var s=Math.cos(e),r=Math.sin(e);n||(n={});var o=i.x+((t.x-i.x)*s-(t.y-i.y)*r);return n.y=i.y+((t.x-i.x)*r+(t.y-i.y)*s),n.x=o,n},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return{x:-((e=!0===e?-1:1)*t.y),y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(t,e,i){var n={};t.exports=n;var s=i(2),r=i(0);n.create=function(t,e){for(var i=[],n=0;n<t.length;n++){var s=t[n],r={x:s.x,y:s.y,index:n,body:e,isInternal:!1};i.push(r)}return i},n.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(t,e,n){i.push({x:parseFloat(e),y:parseFloat(n)})}),n.create(i,e)},n.centre=function(t){for(var e,i,r,o=n.area(t,!0),a={x:0,y:0},l=0;l<t.length;l++)r=(l+1)%t.length,e=s.cross(t[l],t[r]),i=s.mult(s.add(t[l],t[r]),e),a=s.add(a,i);return s.div(a,6*o)},n.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return s.div(e,t.length)},n.area=function(t,e){for(var i=0,n=t.length-1,s=0;s<t.length;s++)i+=(t[n].x-t[s].x)*(t[n].y+t[s].y),n=s;return e?i/2:Math.abs(i)/2},n.inertia=function(t,e){for(var i,n,r=0,o=0,a=0;a<t.length;a++)n=(a+1)%t.length,r+=(i=Math.abs(s.cross(t[n],t[a])))*(s.dot(t[n],t[n])+s.dot(t[n],t[a])+s.dot(t[a],t[a])),o+=i;return e/6*(r/o)},n.translate=function(t,e,i){i=void 0!==i?i:1;var n,s=t.length,r=e.x*i,o=e.y*i;for(n=0;n<s;n++)t[n].x+=r,t[n].y+=o;return t},n.rotate=function(t,e,i){if(0!==e){var n,s,r,o,a=Math.cos(e),l=Math.sin(e),c=i.x,h=i.y,u=t.length;for(o=0;o<u;o++)s=(n=t[o]).x-c,r=n.y-h,n.x=c+(s*a-r*l),n.y=h+(s*l+r*a);return t}},n.contains=function(t,e){for(var i,n=e.x,s=e.y,r=t.length,o=t[r-1],a=0;a<r;a++){if(i=t[a],(n-o.x)*(i.y-o.y)+(s-o.y)*(o.x-i.x)>0)return!1;o=i}return!0},n.scale=function(t,e,i,r){if(1===e&&1===i)return t;r=r||n.centre(t);for(var o,a,l=0;l<t.length;l++)o=t[l],a=s.sub(o,r),t[l].x=r.x+a.x*e,t[l].y=r.y+a.y*i;return t},n.chamfer=function(t,e,i,n,o){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,n=n||2,o=o||14;for(var a=[],l=0;l<t.length;l++){var c=t[l-1>=0?l-1:t.length-1],h=t[l],u=t[(l+1)%t.length],d=e[l<e.length?l:e.length-1];if(0===d){a.push(h);continue}var p=s.normalise({x:h.y-c.y,y:c.x-h.x}),f=s.normalise({x:u.y-h.y,y:h.x-u.x}),m=Math.sqrt(2*Math.pow(d,2)),g=s.mult(r.clone(p),d),x=s.normalise(s.mult(s.add(p,f),.5)),v=s.sub(h,s.mult(x,m)),y=i;-1===i&&(y=1.75*Math.pow(d,.32)),(y=r.clamp(y,n,o))%2==1&&(y+=1);for(var b=Math.acos(s.dot(p,f))/y,w=0;w<y;w++)a.push(s.add(s.rotate(g,b*w),v))}return a},n.clockwiseSort=function(t){var e=n.mean(t);return t.sort(function(t,i){return s.angle(e,t)-s.angle(e,i)}),t},n.isConvex=function(t){var e,i,n,s,r=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(i=(e+1)%o,n=(e+2)%o,(s=(t[i].x-t[e].x)*(t[n].y-t[i].y)-(t[i].y-t[e].y)*(t[n].x-t[i].x))<0?r|=1:s>0&&(r|=2),3===r)return!1;return 0!==r||null},n.hull=function(t){var e,i,n=[],r=[];for((t=t.slice(0)).sort(function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y}),i=0;i<t.length;i+=1){for(e=t[i];r.length>=2&&0>=s.cross3(r[r.length-2],r[r.length-1],e);)r.pop();r.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];n.length>=2&&0>=s.cross3(n[n.length-2],n[n.length-1],e);)n.pop();n.push(e)}return n.pop(),r.pop(),n.concat(r)}},function(t,e,i){var n,s={};t.exports=s;var r=i(3),o=i(2),a=i(7),l=i(0),c=i(1),h=i(11);s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(t){var e={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:0xffffffff,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},i=l.extend(e,t);return n(i,t),i},s.nextGroup=function(t){return t?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory},n=function(t,e){e=e||{},s.set(t,{bounds:t.bounds||c.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),r.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),c.update(t.bounds,t.vertices,t.velocity),s.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var i=t.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),n=t.isStatic?"#555":"#ccc",a=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||i,t.render.strokeStyle=t.render.strokeStyle||n,t.render.lineWidth=t.render.lineWidth||a,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)},s.set=function(t,e,i){var n;for(n in"string"==typeof e&&(n=e,(e={})[n]=i),e)if(Object.prototype.hasOwnProperty.call(e,n))switch(i=e[n],n){case"isStatic":s.setStatic(t,i);break;case"isSleeping":a.set(t,i);break;case"mass":s.setMass(t,i);break;case"density":s.setDensity(t,i);break;case"inertia":s.setInertia(t,i);break;case"vertices":s.setVertices(t,i);break;case"position":s.setPosition(t,i);break;case"angle":s.setAngle(t,i);break;case"velocity":s.setVelocity(t,i);break;case"angularVelocity":s.setAngularVelocity(t,i);break;case"speed":s.setSpeed(t,i);break;case"angularSpeed":s.setAngularSpeed(t,i);break;case"parts":s.setParts(t,i);break;case"centre":s.setCentre(t,i);break;default:t[n]=i}},s.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var n=t.parts[i];e?(n.isStatic||(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia}),n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null),n.isStatic=e}},s.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=e/6*i,t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},s.setDensity=function(t,e){s.setMass(t,e*t.area),t.density=e},s.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},s.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=r.create(e,t),t.axes=h.fromVertices(t.vertices),t.area=r.area(t.vertices),s.setMass(t,t.density*t.area);var i=r.centre(t.vertices);r.translate(t.vertices,i,-1),s.setInertia(t,s._inertiaScale*r.inertia(t.vertices,t.mass)),r.translate(t.vertices,t.position),c.update(t.bounds,t.vertices,t.velocity)},s.setParts=function(t,e,i){for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,n=0;n<e.length;n++){var n,o=e[n];o!==t&&(o.parent=t,t.parts.push(o))}if(1!==t.parts.length){if(i=void 0===i||i){var a=[];for(n=0;n<e.length;n++)a=a.concat(e[n].vertices);r.clockwiseSort(a);var l=r.hull(a),c=r.centre(l);s.setVertices(t,l),r.translate(t.vertices,c)}var h=s._totalProperties(t);t.area=h.area,t.parent=t,t.position.x=h.centre.x,t.position.y=h.centre.y,t.positionPrev.x=h.centre.x,t.positionPrev.y=h.centre.y,s.setMass(t,h.mass),s.setInertia(t,h.inertia),s.setPosition(t,h.centre)}},s.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},s.setPosition=function(t,e,i){var n=o.sub(e,t.position);i?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=n.x,t.velocity.y=n.y,t.speed=o.magnitude(n)):(t.positionPrev.x+=n.x,t.positionPrev.y+=n.y);for(var s=0;s<t.parts.length;s++){var a=t.parts[s];a.position.x+=n.x,a.position.y+=n.y,r.translate(a.vertices,n),c.update(a.bounds,a.vertices,t.velocity)}},s.setAngle=function(t,e,i){var n=e-t.angle;i?(t.anglePrev=t.angle,t.angularVelocity=n,t.angularSpeed=Math.abs(n)):t.anglePrev+=n;for(var s=0;s<t.parts.length;s++){var a=t.parts[s];a.angle+=n,r.rotate(a.vertices,n,t.position),h.rotate(a.axes,n),c.update(a.bounds,a.vertices,t.velocity),s>0&&o.rotateAbout(a.position,n,t.position,a.position)}},s.setVelocity=function(t,e){var i=t.deltaTime/s._baseDelta;t.positionPrev.x=t.position.x-e.x*i,t.positionPrev.y=t.position.y-e.y*i,t.velocity.x=(t.position.x-t.positionPrev.x)/i,t.velocity.y=(t.position.y-t.positionPrev.y)/i,t.speed=o.magnitude(t.velocity)},s.getVelocity=function(t){var e=s._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},s.getSpeed=function(t){return o.magnitude(s.getVelocity(t))},s.setSpeed=function(t,e){s.setVelocity(t,o.mult(o.normalise(s.getVelocity(t)),e))},s.setAngularVelocity=function(t,e){var i=t.deltaTime/s._baseDelta;t.anglePrev=t.angle-e*i,t.angularVelocity=(t.angle-t.anglePrev)/i,t.angularSpeed=Math.abs(t.angularVelocity)},s.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*s._baseDelta/t.deltaTime},s.getAngularSpeed=function(t){return Math.abs(s.getAngularVelocity(t))},s.setAngularSpeed=function(t,e){s.setAngularVelocity(t,l.sign(s.getAngularVelocity(t))*e)},s.translate=function(t,e,i){s.setPosition(t,o.add(t.position,e),i)},s.rotate=function(t,e,i,n){if(i){var r=Math.cos(e),o=Math.sin(e),a=t.position.x-i.x,l=t.position.y-i.y;s.setPosition(t,{x:i.x+(a*r-l*o),y:i.y+(a*o+l*r)},n),s.setAngle(t,t.angle+e,n)}else s.setAngle(t,t.angle+e,n)},s.scale=function(t,e,i,n){var o=0,a=0;n=n||t.position;for(var l=0;l<t.parts.length;l++){var u=t.parts[l];r.scale(u.vertices,e,i,n),u.axes=h.fromVertices(u.vertices),u.area=r.area(u.vertices),s.setMass(u,t.density*u.area),r.translate(u.vertices,{x:-u.position.x,y:-u.position.y}),s.setInertia(u,s._inertiaScale*r.inertia(u.vertices,u.mass)),r.translate(u.vertices,{x:u.position.x,y:u.position.y}),l>0&&(o+=u.area,a+=u.inertia),u.position.x=n.x+(u.position.x-n.x)*e,u.position.y=n.y+(u.position.y-n.y)*i,c.update(u.bounds,u.vertices,t.velocity)}t.parts.length>1&&(t.area=o,t.isStatic||(s.setMass(t,t.density*o),s.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},s.update=function(t,e){var i=(e=(void 0!==e?e:1e3/60)*t.timeScale)*e,n=s._timeCorrection?e/(t.deltaTime||e):1,a=1-t.frictionAir*(e/l._baseDelta),u=(t.position.x-t.positionPrev.x)*n,d=(t.position.y-t.positionPrev.y)*n;t.velocity.x=u*a+t.force.x/t.mass*i,t.velocity.y=d*a+t.force.y/t.mass*i,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*a*n+t.torque/t.inertia*i,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var p=0;p<t.parts.length;p++){var f=t.parts[p];r.translate(f.vertices,t.velocity),p>0&&(f.position.x+=t.velocity.x,f.position.y+=t.velocity.y),0!==t.angularVelocity&&(r.rotate(f.vertices,t.angularVelocity,t.position),h.rotate(f.axes,t.angularVelocity),p>0&&o.rotateAbout(f.position,t.angularVelocity,t.position,f.position)),c.update(f.bounds,f.vertices,t.velocity)}},s.updateVelocities=function(t){var e=s._baseDelta/t.deltaTime,i=t.velocity;i.x=(t.position.x-t.positionPrev.x)*e,i.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(i.x*i.x+i.y*i.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},s.applyForce=function(t,e,i){var n={x:e.x-t.position.x,y:e.y-t.position.y};t.force.x+=i.x,t.force.y+=i.y,t.torque+=n.x*i.y-n.y*i.x},s._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=+(1!==t.parts.length);i<t.parts.length;i++){var n=t.parts[i],s=n.mass!==1/0?n.mass:1;e.mass+=s,e.area+=n.area,e.inertia+=n.inertia,e.centre=o.add(e.centre,o.mult(n.position,s))}return e.centre=o.div(e.centre,e.mass),e}},function(t,e,i){var n={};t.exports=n;var s=i(0);n.on=function(t,e,i){for(var n,s=e.split(" "),r=0;r<s.length;r++)n=s[r],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(i);return i},n.off=function(t,e,i){if(!e){t.events={};return}"function"==typeof e&&(i=e,e=s.keys(t.events).join(" "));for(var n=e.split(" "),r=0;r<n.length;r++){var o=t.events[n[r]],a=[];if(i&&o)for(var l=0;l<o.length;l++)o[l]!==i&&a.push(o[l]);t.events[n[r]]=a}},n.trigger=function(t,e,i){var n,r,o,a,l=t.events;if(l&&s.keys(l).length>0){i||(i={}),n=e.split(" ");for(var c=0;c<n.length;c++)if(o=l[r=n[c]]){(a=s.clone(i,!1)).name=r,a.source=t;for(var h=0;h<o.length;h++)o[h].apply(t,[a])}}}},function(t,e,i){var n={};t.exports=n;var s=i(5),r=i(0),o=i(1),a=i(4);n.create=function(t){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},n.setModified=function(t,e,i,s){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),i&&t.parent&&n.setModified(t.parent,e,i,s),s)for(var r=0;r<t.composites.length;r++){var o=t.composites[r];n.setModified(o,e,i,s)}},n.add=function(t,e){var i=[].concat(e);s.trigger(t,"beforeAdd",{object:e});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(t,a);break;case"constraint":n.addConstraint(t,a);break;case"composite":n.addComposite(t,a);break;case"mouseConstraint":n.addConstraint(t,a.constraint)}}return s.trigger(t,"afterAdd",{object:e}),t},n.remove=function(t,e,i){var r=[].concat(e);s.trigger(t,"beforeRemove",{object:e});for(var o=0;o<r.length;o++){var a=r[o];switch(a.type){case"body":n.removeBody(t,a,i);break;case"constraint":n.removeConstraint(t,a,i);break;case"composite":n.removeComposite(t,a,i);break;case"mouseConstraint":n.removeConstraint(t,a.constraint)}}return s.trigger(t,"afterRemove",{object:e}),t},n.addComposite=function(t,e){return t.composites.push(e),e.parent=t,n.setModified(t,!0,!0,!1),t},n.removeComposite=function(t,e,i){var s=r.indexOf(t.composites,e);if(-1!==s){var o=n.allBodies(e);n.removeCompositeAt(t,s);for(var a=0;a<o.length;a++)o[a].sleepCounter=0}if(i)for(var a=0;a<t.composites.length;a++)n.removeComposite(t.composites[a],e,!0);return t},n.removeCompositeAt=function(t,e){return t.composites.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addBody=function(t,e){return t.bodies.push(e),n.setModified(t,!0,!0,!1),t},n.removeBody=function(t,e,i){var s=r.indexOf(t.bodies,e);if(-1!==s&&(n.removeBodyAt(t,s),e.sleepCounter=0),i)for(var o=0;o<t.composites.length;o++)n.removeBody(t.composites[o],e,!0);return t},n.removeBodyAt=function(t,e){return t.bodies.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addConstraint=function(t,e){return t.constraints.push(e),n.setModified(t,!0,!0,!1),t},n.removeConstraint=function(t,e,i){var s=r.indexOf(t.constraints,e);if(-1!==s&&n.removeConstraintAt(t,s),i)for(var o=0;o<t.composites.length;o++)n.removeConstraint(t.composites[o],e,!0);return t},n.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),n.setModified(t,!0,!0,!1),t},n.clear=function(t,e,i){if(i)for(var s=0;s<t.composites.length;s++)n.clear(t.composites[s],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,n.setModified(t,!0,!0,!1),t},n.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(n.allBodies(t.composites[i]));return t.cache&&(t.cache.allBodies=e),e},n.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(n.allConstraints(t.composites[i]));return t.cache&&(t.cache.allConstraints=e),e},n.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(n.allComposites(t.composites[i]));return t.cache&&(t.cache.allComposites=e),e},n.get=function(t,e,i){var s,r;switch(i){case"body":s=n.allBodies(t);break;case"constraint":s=n.allConstraints(t);break;case"composite":s=n.allComposites(t).concat(t)}return s?0===(r=s.filter(function(t){return t.id.toString()===e.toString()})).length?null:r[0]:null},n.move=function(t,e,i){return n.remove(t,e),n.add(i,e),t},n.rebase=function(t){for(var e=n.allBodies(t).concat(n.allConstraints(t)).concat(n.allComposites(t)),i=0;i<e.length;i++)e[i].id=r.nextId();return t},n.translate=function(t,e,i){for(var s=i?n.allBodies(t):t.bodies,r=0;r<s.length;r++)a.translate(s[r],e);return t},n.rotate=function(t,e,i,s){for(var r=Math.cos(e),o=Math.sin(e),l=s?n.allBodies(t):t.bodies,c=0;c<l.length;c++){var h=l[c],u=h.position.x-i.x,d=h.position.y-i.y;a.setPosition(h,{x:i.x+(u*r-d*o),y:i.y+(u*o+d*r)}),a.rotate(h,e)}return t},n.scale=function(t,e,i,s,r){for(var o=r?n.allBodies(t):t.bodies,l=0;l<o.length;l++){var c=o[l],h=c.position.x-s.x,u=c.position.y-s.y;a.setPosition(c,{x:s.x+h*e,y:s.y+u*i}),a.scale(c,e,i)}return t},n.bounds=function(t){for(var e=n.allBodies(t),i=[],s=0;s<e.length;s+=1){var r=e[s];i.push(r.bounds.min,r.bounds.max)}return o.create(i)}},function(t,e,i){var n={};t.exports=n;var s=i(4),r=i(5),o=i(0);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(t,e){for(var i=e/o._baseDelta,r=n._motionSleepThreshold,a=0;a<t.length;a++){var l=t[a],c=s.getSpeed(l),h=s.getAngularSpeed(l),u=c*c+h*h;if(0!==l.force.x||0!==l.force.y){n.set(l,!1);continue}var d=Math.min(l.motion,u),p=Math.max(l.motion,u);l.motion=n._minBias*d+(1-n._minBias)*p,l.sleepThreshold>0&&l.motion<r?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/i&&n.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},n.afterCollisions=function(t){for(var e=n._motionSleepThreshold,i=0;i<t.length;i++){var s=t[i];if(s.isActive){var r=s.collision,o=r.bodyA.parent,a=r.bodyB.parent;if((!o.isSleeping||!a.isSleeping)&&!o.isStatic&&!a.isStatic&&(o.isSleeping||a.isSleeping)){var l=o.isSleeping&&!o.isStatic?o:a,c=l===o?a:o;!l.isStatic&&c.motion>e&&n.set(l,!1)}}}},n.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||r.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&r.trigger(t,"sleepEnd"))}},function(t,e,i){var n,s,r,o={};t.exports=o;var a=i(3),l=i(9);n=[],s={overlap:0,axis:null},r={overlap:0,axis:null},o.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(t,e,i){if(o._overlapAxes(s,t.vertices,e.vertices,t.axes),s.overlap<=0||(o._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0))return null;var n,c,h=i&&i.table[l.id(t,e)];h?c=h.collision:((c=o.create(t,e)).collided=!0,c.bodyA=t.id<e.id?t:e,c.bodyB=t.id<e.id?e:t,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),t=c.bodyA,e=c.bodyB,n=s.overlap<r.overlap?s:r;var u=c.normal,d=c.tangent,p=c.penetration,f=c.supports,m=n.overlap,g=n.axis,x=g.x,v=g.y;x*(e.position.x-t.position.x)+v*(e.position.y-t.position.y)>=0&&(x=-x,v=-v),u.x=x,u.y=v,d.x=-v,d.y=x,p.x=x*m,p.y=v*m,c.depth=m;var y=o._findSupports(t,e,u,1),b=0;if(a.contains(t.vertices,y[0])&&(f[b++]=y[0]),a.contains(t.vertices,y[1])&&(f[b++]=y[1]),b<2){var w=o._findSupports(e,t,u,-1);a.contains(e.vertices,w[0])&&(f[b++]=w[0]),b<2&&a.contains(e.vertices,w[1])&&(f[b++]=w[1])}return 0===b&&(f[b++]=y[0]),c.supportCount=b,c},o._overlapAxes=function(t,e,i,n){var s,r,o,a,l,c,h=e.length,u=i.length,d=e[0].x,p=e[0].y,f=i[0].x,m=i[0].y,g=n.length,x=Number.MAX_VALUE,v=0;for(l=0;l<g;l++){var y=n[l],b=y.x,w=y.y,S=d*b+p*w,A=f*b+m*w,M=S,C=A;for(c=1;c<h;c+=1)(a=e[c].x*b+e[c].y*w)>M?M=a:a<S&&(S=a);for(c=1;c<u;c+=1)(a=i[c].x*b+i[c].y*w)>C?C=a:a<A&&(A=a);if((s=(r=M-A)<(o=C-S)?r:o)<x&&(x=s,v=l,s<=0))break}t.axis=n[v],t.overlap=x},o._findSupports=function(t,e,i,s){var r,o,a,l=e.vertices,c=l.length,h=t.position.x,u=t.position.y,d=i.x*s,p=i.y*s,f=l[0],m=f,g=d*(h-m.x)+p*(u-m.y);for(a=1;a<c;a+=1)(o=d*(h-(m=l[a]).x)+p*(u-m.y))<g&&(g=o,f=m);return(g=d*(h-(r=l[(c+f.index-1)%c]).x)+p*(u-r.y),d*(h-(m=l[(f.index+1)%c]).x)+p*(u-m.y)<g)?(n[0]=f,n[1]=m):(n[0]=f,n[1]=r),n}},function(t,e,i){var n={};t.exports=n;var s=i(16);n.create=function(t,e){var i=t.bodyA,r=t.bodyB,o={id:n.id(i,r),bodyA:i,bodyB:r,collision:t,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(o,t,e),o},n.update=function(t,e,i){var n=e.supports,s=e.supportCount,r=t.contacts,o=e.parentA,a=e.parentB;t.isActive=!0,t.timeUpdated=i,t.collision=e,t.separation=e.depth,t.inverseMass=o.inverseMass+a.inverseMass,t.friction=o.friction<a.friction?o.friction:a.friction,t.frictionStatic=o.frictionStatic>a.frictionStatic?o.frictionStatic:a.frictionStatic,t.restitution=o.restitution>a.restitution?o.restitution:a.restitution,t.slop=o.slop>a.slop?o.slop:a.slop,t.contactCount=s,e.pair=t;var l=n[0],c=r[0],h=n[1],u=r[1];(u.vertex===l||c.vertex===h)&&(r[1]=c,r[0]=c=u,u=r[1]),c.vertex=l,u.vertex=h},n.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.contactCount=0)},n.id=function(t,e){return t.id<e.id?t.id.toString(36)+":"+e.id.toString(36):e.id.toString(36)+":"+t.id.toString(36)}},function(t,e,i){var n={};t.exports=n;var s=i(3),r=i(2),o=i(7),a=i(1),l=i(11),c=i(0);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(t){t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var e=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,i=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,n=r.magnitude(r.sub(e,i));t.length=void 0!==t.length?t.length:n,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(s.type="pin",s.anchors=!1):t.stiffness<.9&&(s.type="spring"),t.render=c.extend(s,t.render),t},n.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],n=i.constraintImpulse;i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)}},n.solveAll=function(t,e){for(var i=c.clamp(e/c._baseDelta,0,1),s=0;s<t.length;s+=1){var r=t[s],o=!r.bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(o||a)&&n.solve(t[s],i)}for(s=0;s<t.length;s+=1)o=!(r=t[s]).bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic,o||a||n.solve(t[s],i)},n.solve=function(t,e){var i=t.bodyA,s=t.bodyB,o=t.pointA,a=t.pointB;if(i||s){i&&!i.isStatic&&(r.rotate(o,i.angle-t.angleA,o),t.angleA=i.angle),s&&!s.isStatic&&(r.rotate(a,s.angle-t.angleB,a),t.angleB=s.angle);var l=o,c=a;if(i&&(l=r.add(i.position,o)),s&&(c=r.add(s.position,a)),l&&c){var h=r.sub(l,c),u=r.magnitude(h);u<n._minLength&&(u=n._minLength);var d,p,f,m,g,x=(u-t.length)/u,v=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,y=t.damping*e,b=r.mult(h,x*v),w=(i?i.inverseMass:0)+(s?s.inverseMass:0),S=w+((i?i.inverseInertia:0)+(s?s.inverseInertia:0));if(y>0){var A=r.create();f=r.div(h,u),g=r.sub(s&&r.sub(s.position,s.positionPrev)||A,i&&r.sub(i.position,i.positionPrev)||A),m=r.dot(f,g)}i&&!i.isStatic&&(p=i.inverseMass/w,i.constraintImpulse.x-=b.x*p,i.constraintImpulse.y-=b.y*p,i.position.x-=b.x*p,i.position.y-=b.y*p,y>0&&(i.positionPrev.x-=y*f.x*m*p,i.positionPrev.y-=y*f.y*m*p),d=r.cross(o,b)/S*n._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),s&&!s.isStatic&&(p=s.inverseMass/w,s.constraintImpulse.x+=b.x*p,s.constraintImpulse.y+=b.y*p,s.position.x+=b.x*p,s.position.y+=b.y*p,y>0&&(s.positionPrev.x+=y*f.x*m*p,s.positionPrev.y+=y*f.y*m*p),d=r.cross(a,b)/S*n._torqueDampen*s.inverseInertia*(1-t.angularStiffness),s.constraintImpulse.angle+=d,s.angle+=d)}}},n.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],c=i.constraintImpulse;if(!i.isStatic&&(0!==c.x||0!==c.y||0!==c.angle)){o.set(i,!1);for(var h=0;h<i.parts.length;h++){var u=i.parts[h];s.translate(u.vertices,c),h>0&&(u.position.x+=c.x,u.position.y+=c.y),0!==c.angle&&(s.rotate(u.vertices,c.angle,i.position),l.rotate(u.axes,c.angle),h>0&&r.rotateAbout(u.position,c.angle,i.position,u.position)),a.update(u.bounds,u.vertices,i.velocity)}c.angle*=n._warming,c.x*=n._warming,c.y*=n._warming}}},n.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},n.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}},n.currentLength=function(t){var e=(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),i=(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0),n=(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),s=(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0),r=e-n,o=i-s;return Math.sqrt(r*r+o*o)}},function(t,e,i){var n={};t.exports=n;var s=i(2),r=i(0);n.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var n=(i+1)%t.length,o=s.normalise({x:t[n].y-t[i].y,y:t[i].x-t[n].x}),a=0===o.y?1/0:o.x/o.y;e[a=a.toFixed(3).toString()]=o}return r.values(e)},n.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),n=Math.sin(e),s=0;s<t.length;s++){var r,o=t[s];r=o.x*i-o.y*n,o.y=o.x*n+o.y*i,o.x=r}}},function(t,e,i){var n={};t.exports=n;var s=i(3),r=i(0),o=i(4),a=i(1),l=i(2);n.rectangle=function(t,e,i,n,a){a=a||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:s.fromPath("L 0 0 L "+i+" 0 L "+i+" "+n+" L 0 "+n)};if(a.chamfer){var c=a.chamfer;l.vertices=s.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return o.create(r.extend({},l,a))},n.trapezoid=function(t,e,i,n,a,l){l=l||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1.");var c,h=(1-2*(a*=.5))*i,u=i*a,d=u+h,p=d+u;c=a<.5?"L 0 0 L "+u+" "+-n+" L "+d+" "+-n+" L "+p+" 0":"L 0 0 L "+d+" "+-n+" L "+p+" 0";var f={label:"Trapezoid Body",position:{x:t,y:e},vertices:s.fromPath(c)};if(l.chamfer){var m=l.chamfer;f.vertices=s.chamfer(f.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return o.create(r.extend({},f,l))},n.circle=function(t,e,i,s,o){s=s||{};var a=Math.ceil(Math.max(10,Math.min(o=o||25,i)));return a%2==1&&(a+=1),n.polygon(t,e,a,i,r.extend({},{label:"Circle Body",circleRadius:i},s))},n.polygon=function(t,e,i,a,l){if(l=l||{},i<3)return n.circle(t,e,a,l);for(var c=2*Math.PI/i,h="",u=.5*c,d=0;d<i;d+=1){var p=u+d*c,f=Math.cos(p)*a,m=Math.sin(p)*a;h+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:s.fromPath(h)};if(l.chamfer){var x=l.chamfer;g.vertices=s.chamfer(g.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete l.chamfer}return o.create(r.extend({},g,l))},n.fromVertices=function(t,e,i,n,c,h,u,d){var p,f,m,g,x,v,y,b,w,S,A=r.getDecomp();for(p=!!(A&&A.quickDecomp),n=n||{},m=[],c=void 0!==c&&c,h=void 0!==h?h:.01,u=void 0!==u?u:10,d=void 0!==d?d:.01,r.isArray(i[0])||(i=[i]),w=0;w<i.length;w+=1)if(x=i[w],(g=s.isConvex(x))||p||r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!p)x=g?s.clockwiseSort(x):s.hull(x),m.push({position:{x:t,y:e},vertices:x});else{var M=x.map(function(t){return[t.x,t.y]});A.makeCCW(M),!1!==h&&A.removeCollinearPoints(M,h),!1!==d&&A.removeDuplicatePoints&&A.removeDuplicatePoints(M,d);var C=A.quickDecomp(M);for(v=0;v<C.length;v++){var _=C[v].map(function(t){return{x:t[0],y:t[1]}});u>0&&s.area(_)<u||m.push({position:s.centre(_),vertices:_})}}for(v=0;v<m.length;v++)m[v]=o.create(r.extend(m[v],n));if(c)for(v=0;v<m.length;v++){var P=m[v];for(y=v+1;y<m.length;y++){var I=m[y];if(a.overlaps(P.bounds,I.bounds)){var B=P.vertices,E=I.vertices;for(b=0;b<P.vertices.length;b++)for(S=0;S<I.vertices.length;S++){var k=l.magnitudeSquared(l.sub(B[(b+1)%B.length],E[S])),T=l.magnitudeSquared(l.sub(B[b],E[(S+1)%E.length]));k<5&&T<5&&(B[b].isInternal=!0,E[S].isInternal=!0)}}}}return m.length>1?(f=o.create(r.extend({parts:m.slice(0)},n)),o.setPosition(f,{x:t,y:e}),f):m[0]}},function(t,e,i){var n={};t.exports=n;var s=i(0),r=i(8);n.create=function(t){return s.extend({bodies:[],collisions:[],pairs:null},t)},n.setBodies=function(t,e){t.bodies=e.slice(0)},n.clear=function(t){t.bodies=[],t.collisions=[]},n.collisions=function(t){var e,i,s=t.pairs,o=t.bodies,a=o.length,l=n.canCollide,c=r.collides,h=t.collisions,u=0;for(o.sort(n._compareBoundsX),e=0;e<a;e++){var d=o[e],p=d.bounds,f=d.bounds.max.x,m=d.bounds.max.y,g=d.bounds.min.y,x=d.isStatic||d.isSleeping,v=d.parts.length,y=1===v;for(i=e+1;i<a;i++){var b=o[i],w=b.bounds;if(w.min.x>f)break;if(!(m<w.min.y)&&!(g>w.max.y)&&(!x||!b.isStatic&&!b.isSleeping)&&l(d.collisionFilter,b.collisionFilter)){var S=b.parts.length;if(y&&1===S){var A=c(d,b,s);A&&(h[u++]=A)}else for(var M=+(v>1),C=+(S>1),_=M;_<v;_++)for(var P=d.parts[_],p=P.bounds,I=C;I<S;I++){var B=b.parts[I],w=B.bounds;if(!(p.min.x>w.max.x)&&!(p.max.x<w.min.x)&&!(p.max.y<w.min.y)&&!(p.min.y>w.max.y)){var A=c(P,B,s);A&&(h[u++]=A)}}}}}return h.length!==u&&(h.length=u),h},n.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:(t.mask&e.category)!=0&&(e.mask&t.category)!=0},n._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,i){var n={};t.exports=n;var s=i(0);n.create=function(t){var e={};return t||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var i=n._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var i=n._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var i=n._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=i.x,e.absolute.y=i.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault(),e.sourceEvents.mousewheel=t},n.setElement(e,e.element),e},n.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove,{passive:!0}),e.addEventListener("mousedown",t.mousedown,{passive:!0}),e.addEventListener("mouseup",t.mouseup,{passive:!0}),e.addEventListener("wheel",t.mousewheel,{passive:!1}),e.addEventListener("touchmove",t.mousemove,{passive:!1}),e.addEventListener("touchstart",t.mousedown,{passive:!1}),e.addEventListener("touchend",t.mouseup,{passive:!1})},n.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},n.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},n.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},n._getRelativeMousePosition=function(t,e,i){var n,s,r=e.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,c=t.changedTouches;return c?(n=c[0].pageX-r.left-a,s=c[0].pageY-r.top-l):(n=t.pageX-r.left-a,s=t.pageY-r.top-l),{x:n/(e.clientWidth/(e.width||e.clientWidth)*i),y:s/(e.clientHeight/(e.height||e.clientHeight)*i)}}},function(t,e,i){var n={};t.exports=n;var s=i(0);n._registry={},n.register=function(t){if(n.isPlugin(t)||s.warn("Plugin.register:",n.toString(t),"does not implement all required fields."),t.name in n._registry){var e=n._registry[t.name],i=n.versionParse(t.version).number,r=n.versionParse(e.version).number;i>r?(s.warn("Plugin.register:",n.toString(e),"was upgraded to",n.toString(t)),n._registry[t.name]=t):i<r?s.warn("Plugin.register:",n.toString(e),"can not be downgraded to",n.toString(t)):t!==e&&s.warn("Plugin.register:",n.toString(t),"is already registered to different plugin object")}else n._registry[t.name]=t;return t},n.resolve=function(t){return n._registry[n.dependencyParse(t).name]},n.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},n.isPlugin=function(t){return t&&t.name&&t.version&&t.install},n.isUsed=function(t,e){return t.used.indexOf(e)>-1},n.isFor=function(t,e){var i=t.for&&n.dependencyParse(t.for);return!t.for||e.name===i.name&&n.versionSatisfies(e.version,i.range)},n.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0===t.uses.length)return void s.warn("Plugin.use:",n.toString(t),"does not specify any dependencies to install.");for(var i=n.dependencies(t),r=s.topologicalSort(i),o=[],a=0;a<r.length;a+=1)if(r[a]!==t.name){var l=n.resolve(r[a]);if(!l){o.push("âŒ "+r[a]);continue}n.isUsed(t,l.name)||(n.isFor(l,t)||(s.warn("Plugin.use:",n.toString(l),"is for",l.for,"but installed on",n.toString(t)+"."),l._warned=!0),l.install?l.install(t):(s.warn("Plugin.use:",n.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(o.push("ðŸ”¶ "+n.toString(l)),delete l._warned):o.push("âœ… "+n.toString(l)),t.used.push(l.name))}o.length>0&&s.info(o.join("  "))},n.dependencies=function(t,e){var i=n.dependencyParse(t),r=i.name;if(!(r in(e=e||{}))){t=n.resolve(t)||t,e[r]=s.map(t.uses||[],function(e){n.isPlugin(e)&&n.register(e);var r=n.dependencyParse(e),o=n.resolve(e);return o&&!n.versionSatisfies(o.version,r.range)?(s.warn("Plugin.dependencies:",n.toString(o),"does not satisfy",n.toString(r),"used by",n.toString(i)+"."),o._warned=!0,t._warned=!0):o||(s.warn("Plugin.dependencies:",n.toString(e),"used by",n.toString(i),"could not be resolved."),t._warned=!0),r.name});for(var o=0;o<e[r].length;o+=1)n.dependencies(e[r][o],e);return e}},n.dependencyParse=function(t){return s.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||s.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},n.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||s.warn("Plugin.versionParse:",t,"is not a valid version or range.");var i=e.exec(t),n=Number(i[4]),r=Number(i[5]),o=Number(i[6]);return{isRange:!!(i[1]||i[2]),version:i[3],range:t,operator:i[1]||i[2]||"",major:n,minor:r,patch:o,parts:[n,r,o],prerelease:i[7],number:1e8*n+1e4*r+o}},n.versionSatisfies=function(t,e){e=e||"*";var i=n.versionParse(e),s=n.versionParse(t);if(i.isRange){if("*"===i.operator||"*"===t)return!0;if(">"===i.operator)return s.number>i.number;if(">="===i.operator)return s.number>=i.number;if("~"===i.operator)return s.major===i.major&&s.minor===i.minor&&s.patch>=i.patch;if("^"===i.operator)return i.major>0?s.major===i.major&&s.number>=i.number:i.minor>0?s.minor===i.minor&&s.patch>=i.patch:s.patch===i.patch}return t===e||"*"===t}},function(t,e){var i={};t.exports=i,i.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,i){var n={};t.exports=n;var s=i(7),r=i(18),o=i(13),a=i(19),l=i(5),c=i(6),h=i(10),u=i(0),d=i(4);n._deltaMax=1e3/60,n.create=function(t){t=t||{};var e=u.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},t);return e.world=t.world||c.create({label:"World"}),e.pairs=t.pairs||a.create(),e.detector=t.detector||o.create(),e.detector.pairs=e.pairs,e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},n.update=function(t,e){var i,d=u.now(),p=t.world,f=t.detector,m=t.pairs,g=t.timing,x=g.timestamp;e>n._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",n._deltaMax.toFixed(3),"ms."),e=(void 0!==e?e:u._baseDelta)*g.timeScale,g.timestamp+=e,g.lastDelta=e;var v={timestamp:g.timestamp,delta:e};l.trigger(t,"beforeUpdate",v);var y=c.allBodies(p),b=c.allConstraints(p);for(p.isModified&&(o.setBodies(f,y),c.setModified(p,!1,!1,!0)),t.enableSleeping&&s.update(y,e),n._bodiesApplyGravity(y,t.gravity),e>0&&n._bodiesUpdate(y,e),l.trigger(t,"beforeSolve",v),h.preSolveAll(y),i=0;i<t.constraintIterations;i++)h.solveAll(b,e);h.postSolveAll(y);var w=o.collisions(f);a.update(m,w,x),t.enableSleeping&&s.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(t,"collisionStart",{pairs:m.collisionStart,timestamp:g.timestamp,delta:e});var S=u.clamp(20/t.positionIterations,0,1);for(r.preSolvePosition(m.list),i=0;i<t.positionIterations;i++)r.solvePosition(m.list,e,S);for(r.postSolvePosition(y),h.preSolveAll(y),i=0;i<t.constraintIterations;i++)h.solveAll(b,e);for(h.postSolveAll(y),r.preSolveVelocity(m.list),i=0;i<t.velocityIterations;i++)r.solveVelocity(m.list,e);return n._bodiesUpdateVelocities(y),m.collisionActive.length>0&&l.trigger(t,"collisionActive",{pairs:m.collisionActive,timestamp:g.timestamp,delta:e}),m.collisionEnd.length>0&&l.trigger(t,"collisionEnd",{pairs:m.collisionEnd,timestamp:g.timestamp,delta:e}),n._bodiesClearForces(y),l.trigger(t,"afterUpdate",v),t.timing.lastElapsed=u.now()-d,t},n.merge=function(t,e){if(u.extend(t,e),e.world){t.world=e.world,n.clear(t);for(var i=c.allBodies(t.world),r=0;r<i.length;r++){var o=i[r];s.set(o,!1),o.id=u.nextId()}}},n.clear=function(t){a.clear(t.pairs),o.clear(t.detector)},n._bodiesClearForces=function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];n.force.x=0,n.force.y=0,n.torque=0}},n._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001,n=t.length;if((0!==e.x||0!==e.y)&&0!==i)for(var s=0;s<n;s++){var r=t[s];r.isStatic||r.isSleeping||(r.force.y+=r.mass*e.y*i,r.force.x+=r.mass*e.x*i)}},n._bodiesUpdate=function(t,e){for(var i=t.length,n=0;n<i;n++){var s=t[n];s.isStatic||s.isSleeping||d.update(s,e)}},n._bodiesUpdateVelocities=function(t){for(var e=t.length,i=0;i<e;i++)d.updateVelocities(t[i])}},function(t,e,i){var n={};t.exports=n;var s=i(3),r=i(0),o=i(1);n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(t){var e,i,n,s=t.length;for(e=0;e<s;e++)(i=t[e]).isActive&&(n=i.contactCount,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},n.solvePosition=function(t,e,i){var s,o,a,l,c,h,u,d,p=n._positionDampen*(i||1),f=r.clamp(e/r._baseDelta,0,1),m=t.length;for(s=0;s<m;s++)(o=t[s]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,c=a.parentB,h=a.normal,o.separation=a.depth+h.x*(c.positionImpulse.x-l.positionImpulse.x)+h.y*(c.positionImpulse.y-l.positionImpulse.y));for(s=0;s<m;s++)(o=t[s]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,c=a.parentB,h=a.normal,d=o.separation-o.slop*f,(l.isStatic||c.isStatic)&&(d*=2),l.isStatic||l.isSleeping||(u=p/l.totalContacts,l.positionImpulse.x+=h.x*d*u,l.positionImpulse.y+=h.y*d*u),c.isStatic||c.isSleeping||(u=p/c.totalContacts,c.positionImpulse.x-=h.x*d*u,c.positionImpulse.y-=h.y*d*u))},n.postSolvePosition=function(t){for(var e=n._positionWarming,i=t.length,r=s.translate,a=o.update,l=0;l<i;l++){var c=t[l],h=c.positionImpulse,u=h.x,d=h.y,p=c.velocity;if(c.totalContacts=0,0!==u||0!==d){for(var f=0;f<c.parts.length;f++){var m=c.parts[f];r(m.vertices,h),a(m.bounds,m.vertices,p),m.position.x+=u,m.position.y+=d}c.positionPrev.x+=u,c.positionPrev.y+=d,u*p.x+d*p.y<0?(h.x=0,h.y=0):(h.x*=e,h.y*=e)}}},n.preSolveVelocity=function(t){var e,i,n=t.length;for(e=0;e<n;e++){var s=t[e];if(s.isActive&&!s.isSensor){var r=s.contacts,o=s.contactCount,a=s.collision,l=a.parentA,c=a.parentB,h=a.normal,u=a.tangent;for(i=0;i<o;i++){var d=r[i],p=d.vertex,f=d.normalImpulse,m=d.tangentImpulse;if(0!==f||0!==m){var g=h.x*f+u.x*m,x=h.y*f+u.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=x*l.inverseMass,l.anglePrev+=l.inverseInertia*((p.x-l.position.x)*x-(p.y-l.position.y)*g)),c.isStatic||c.isSleeping||(c.positionPrev.x-=g*c.inverseMass,c.positionPrev.y-=x*c.inverseMass,c.anglePrev-=c.inverseInertia*((p.x-c.position.x)*x-(p.y-c.position.y)*g))}}}}},n.solveVelocity=function(t,e){var i,s,o,a,l=e/r._baseDelta,c=l*l*l,h=-n._restingThresh*l,u=n._restingThreshTangent,d=n._frictionNormalMultiplier*l,p=n._frictionMaxStatic,f=t.length;for(o=0;o<f;o++){var m=t[o];if(m.isActive&&!m.isSensor){var g=m.collision,x=g.parentA,v=g.parentB,y=g.normal.x,b=g.normal.y,w=g.tangent.x,S=g.tangent.y,A=m.inverseMass,M=m.friction*m.frictionStatic*d,C=m.contacts,_=m.contactCount,P=1/_,I=x.position.x-x.positionPrev.x,B=x.position.y-x.positionPrev.y,E=x.angle-x.anglePrev,k=v.position.x-v.positionPrev.x,T=v.position.y-v.positionPrev.y,R=v.angle-v.anglePrev;for(a=0;a<_;a++){var j=C[a],F=j.vertex,L=F.x-x.position.x,N=F.y-x.position.y,O=F.x-v.position.x,D=F.y-v.position.y,V=I-N*E-(k-D*R),z=B+L*E-(T+O*R),q=y*V+b*z,U=w*V+S*z,H=m.separation+q,W=Math.min(H,1),G=(W=H<0?0:W)*M;U<-G||U>G?(s=U>0?U:-U,(i=m.friction*(U>0?1:-1)*c)<-s?i=-s:i>s&&(i=s)):(i=U,s=p);var X=L*b-N*y,Y=O*b-D*y,$=P/(A+x.inverseInertia*X*X+v.inverseInertia*Y*Y),Z=(1+m.restitution)*q*$;if(i*=$,q<h)j.normalImpulse=0;else{var K=j.normalImpulse;j.normalImpulse+=Z,j.normalImpulse>0&&(j.normalImpulse=0),Z=j.normalImpulse-K}if(U<-u||U>u)j.tangentImpulse=0;else{var Q=j.tangentImpulse;j.tangentImpulse+=i,j.tangentImpulse<-s&&(j.tangentImpulse=-s),j.tangentImpulse>s&&(j.tangentImpulse=s),i=j.tangentImpulse-Q}var J=y*Z+w*i,tt=b*Z+S*i;x.isStatic||x.isSleeping||(x.positionPrev.x+=J*x.inverseMass,x.positionPrev.y+=tt*x.inverseMass,x.anglePrev+=(L*tt-N*J)*x.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=J*v.inverseMass,v.positionPrev.y-=tt*v.inverseMass,v.anglePrev-=(O*tt-D*J)*v.inverseInertia)}}}}},function(t,e,i){var n={};t.exports=n;var s=i(9),r=i(0);n.create=function(t){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},n.update=function(t,e,i){var n,r,o,a=s.update,l=s.create,c=s.setActive,h=t.table,u=t.list,d=u.length,p=d,f=t.collisionStart,m=t.collisionEnd,g=t.collisionActive,x=e.length,v=0,y=0,b=0;for(o=0;o<x;o++)(r=(n=e[o]).pair)?(r.isActive&&(g[b++]=r),a(r,n,i)):(h[(r=l(n,i)).id]=r,f[v++]=r,u[p++]=r);for(o=0,p=0,d=u.length;o<d;o++)(r=u[o]).timeUpdated>=i?u[p++]=r:(c(r,!1,i),r.collision.bodyA.sleepCounter>0&&r.collision.bodyB.sleepCounter>0?u[p++]=r:(m[y++]=r,delete h[r.id]));u.length!==p&&(u.length=p),f.length!==v&&(f.length=v),m.length!==y&&(m.length=y),g.length!==b&&(g.length=b)},n.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,i){var n=t.exports=i(21);n.Axes=i(11),n.Bodies=i(12),n.Body=i(4),n.Bounds=i(1),n.Collision=i(8),n.Common=i(0),n.Composite=i(6),n.Composites=i(22),n.Constraint=i(10),n.Contact=i(16),n.Detector=i(13),n.Engine=i(17),n.Events=i(5),n.Grid=i(23),n.Mouse=i(14),n.MouseConstraint=i(24),n.Pair=i(9),n.Pairs=i(19),n.Plugin=i(15),n.Query=i(25),n.Render=i(26),n.Resolver=i(18),n.Runner=i(27),n.SAT=i(28),n.Sleeping=i(7),n.Svg=i(29),n.Vector=i(2),n.Vertices=i(3),n.World=i(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(t,e,i){var n={};t.exports=n;var s=i(15),r=i(0);n.name="matter-js",n.version="0.20.0",n.uses=[],n.used=[],n.use=function(){s.use(n,Array.prototype.slice.call(arguments))},n.before=function(t,e){return t=t.replace(/^Matter./,""),r.chainPathBefore(n,t,e)},n.after=function(t,e){return t=t.replace(/^Matter./,""),r.chainPathAfter(n,t,e)}},function(t,e,i){var n={};t.exports=n;var s=i(6),r=i(10),o=i(0),a=i(4),l=i(12),c=o.deprecated;n.stack=function(t,e,i,n,r,o,l){for(var c,h=s.create({label:"Stack"}),u=t,d=e,p=0,f=0;f<n;f++){for(var m=0,g=0;g<i;g++){var x=l(u,d,g,f,c,p);if(x){var v=x.bounds.max.y-x.bounds.min.y,y=x.bounds.max.x-x.bounds.min.x;v>m&&(m=v),a.translate(x,{x:.5*y,y:.5*v}),u=x.bounds.max.x+r,s.addBody(h,x),c=x,p+=1}else u+=r}d+=m+o,u=t}return h},n.chain=function(t,e,i,n,a,l){for(var c=t.bodies,h=1;h<c.length;h++){var u=c[h-1],d=c[h],p=u.bounds.max.y-u.bounds.min.y,f=u.bounds.max.x-u.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,g=d.bounds.max.x-d.bounds.min.x,x={bodyA:u,pointA:{x:f*e,y:p*i},bodyB:d,pointB:{x:g*n,y:m*a}},v=o.extend(x,l);s.addConstraint(t,r.create(v))}return t.label+=" Chain",t},n.mesh=function(t,e,i,n,a){var l,c,h,u,d,p=t.bodies;for(l=0;l<i;l++){for(c=1;c<e;c++)h=p[c-1+l*e],u=p[c+l*e],s.addConstraint(t,r.create(o.extend({bodyA:h,bodyB:u},a)));if(l>0)for(c=0;c<e;c++)h=p[c+(l-1)*e],u=p[c+l*e],s.addConstraint(t,r.create(o.extend({bodyA:h,bodyB:u},a))),n&&c>0&&(d=p[c-1+(l-1)*e],s.addConstraint(t,r.create(o.extend({bodyA:d,bodyB:u},a)))),n&&c<e-1&&(d=p[c+1+(l-1)*e],s.addConstraint(t,r.create(o.extend({bodyA:d,bodyB:u},a))))}return t.label+=" Mesh",t},n.pyramid=function(t,e,i,s,r,o,l){return n.stack(t,e,i,s,r,o,function(e,n,o,c,h,u){var d=Math.min(s,Math.ceil(i/2)),p=h?h.bounds.max.x-h.bounds.min.x:0;if(!(c>d)){var f=c=d-c,m=i-1-c;if(!(o<f)&&!(o>m))return 1===u&&a.translate(h,{x:(o+(i%2==1?1:-1))*p,y:0}),l(t+(h?o*p:0)+o*r,n,o,c,h,u)}})},n.newtonsCradle=function(t,e,i,n,o){for(var a=s.create({label:"Newtons Cradle"}),c=0;c<i;c++){var h=l.circle(t+1.9*n*c,e+o,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),u=r.create({pointA:{x:t+1.9*n*c,y:e},bodyB:h});s.addBody(a,h),s.addConstraint(a,u)}return a},c(n,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),n.car=function(t,e,i,n,o){var c=a.nextGroup(!0),h=-(.5*i)+20,u=.5*i-20,d=s.create({label:"Car"}),p=l.rectangle(t,e,i,n,{collisionFilter:{group:c},chamfer:{radius:.5*n},density:2e-4}),f=l.circle(t+h,e+0,o,{collisionFilter:{group:c},friction:.8}),m=l.circle(t+u,e+0,o,{collisionFilter:{group:c},friction:.8}),g=r.create({bodyB:p,pointB:{x:h,y:0},bodyA:f,stiffness:1,length:0}),x=r.create({bodyB:p,pointB:{x:u,y:0},bodyA:m,stiffness:1,length:0});return s.addBody(d,p),s.addBody(d,f),s.addBody(d,m),s.addConstraint(d,g),s.addConstraint(d,x),d},c(n,"car","Composites.car âž¤ moved to car example"),n.softBody=function(t,e,i,s,r,a,c,h,u,d){u=o.extend({inertia:1/0},u),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=n.stack(t,e,i,s,r,a,function(t,e){return l.circle(t,e,h,u)});return n.mesh(p,i,s,c,d),p.label="Soft Body",p},c(n,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")},function(t,e,i){var n={};t.exports=n;var s=i(9),r=i(0),o=r.deprecated;n.create=function(t){return r.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},n.update=function(t,e,i,s){var r,o,a,l,c,h=i.world,u=t.buckets,d=!1;for(r=0;r<e.length;r++){var p=e[r];if((!p.isSleeping||s)&&(!h.bounds||!(p.bounds.max.x<h.bounds.min.x)&&!(p.bounds.min.x>h.bounds.max.x)&&!(p.bounds.max.y<h.bounds.min.y)&&!(p.bounds.min.y>h.bounds.max.y))){var f=n._getRegion(t,p);if(!p.region||f.id!==p.region.id||s){(!p.region||s)&&(p.region=f);var m=n._regionUnion(f,p.region);for(o=m.startCol;o<=m.endCol;o++)for(a=m.startRow;a<=m.endRow;a++){l=u[c=n._getBucketId(o,a)];var g=o>=f.startCol&&o<=f.endCol&&a>=f.startRow&&a<=f.endRow,x=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!g&&x&&x&&l&&n._bucketRemoveBody(t,l,p),(p.region===f||g&&!x||s)&&(l||(l=n._createBucket(u,c)),n._bucketAddBody(t,l,p))}p.region=f,d=!0}}}d&&(t.pairsList=n._createActivePairsList(t))},o(n,"update","Grid.update âž¤ replaced by Matter.Detector"),n.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},o(n,"clear","Grid.clear âž¤ replaced by Matter.Detector"),n._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),s=Math.max(t.endCol,e.endCol),r=Math.min(t.startRow,e.startRow),o=Math.max(t.endRow,e.endRow);return n._createRegion(i,s,r,o)},n._getRegion=function(t,e){var i=e.bounds,s=Math.floor(i.min.x/t.bucketWidth),r=Math.floor(i.max.x/t.bucketWidth),o=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return n._createRegion(s,r,o,a)},n._createRegion=function(t,e,i,n){return{id:t+","+e+","+i+","+n,startCol:t,endCol:e,startRow:i,endRow:n}},n._getBucketId=function(t,e){return"C"+t+"R"+e},n._createBucket=function(t,e){return t[e]=[]},n._bucketAddBody=function(t,e,i){var n,r=t.pairs,o=s.id,a=e.length;for(n=0;n<a;n++){var l=e[n];if(i.id!==l.id&&(!i.isStatic||!l.isStatic)){var c=o(i,l),h=r[c];h?h[2]+=1:r[c]=[i,l,1]}}e.push(i)},n._bucketRemoveBody=function(t,e,i){var n,o=t.pairs,a=s.id;e.splice(r.indexOf(e,i),1);var l=e.length;for(n=0;n<l;n++){var c=o[a(i,e[n])];c&&(c[2]-=1)}},n._createActivePairsList=function(t){var e,i,n=t.pairs,s=r.keys(n),o=s.length,a=[];for(i=0;i<o;i++)(e=n[s[i]])[2]>0?a.push(e):delete n[s[i]];return a}},function(t,e,i){var n={};t.exports=n;var s=i(3),r=i(7),o=i(14),a=i(5),l=i(13),c=i(10),h=i(6),u=i(0),d=i(1);n.create=function(t,e){var i=(t?t.mouse:null)||(e?e.mouse:null);i||(t&&t.render&&t.render.canvas?i=o.create(t.render.canvas):e&&e.element?i=o.create(e.element):(i=o.create(),u.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var s=c.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),r={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:s,collisionFilter:{category:1,mask:0xffffffff,group:0}},l=u.extend(r,e);return a.on(t,"beforeUpdate",function(){var e=h.allBodies(t.world);n.update(l,e),n._triggerEvents(l)}),l},n.update=function(t,e){var i=t.mouse,n=t.constraint,o=t.body;if(0===i.button){if(n.bodyB)r.set(n.bodyB,!1),n.pointA=i.position;else for(var c=0;c<e.length;c++)if(o=e[c],d.contains(o.bounds,i.position)&&l.canCollide(o.collisionFilter,t.collisionFilter))for(var h=+(o.parts.length>1);h<o.parts.length;h++){var u=o.parts[h];if(s.contains(u.vertices,i.position)){n.pointA=i.position,n.bodyB=t.body=o,n.pointB={x:i.position.x-o.position.x,y:i.position.y-o.position.y},n.angleB=o.angle,r.set(o,!1),a.trigger(t,"startdrag",{mouse:i,body:o});break}}}else n.bodyB=t.body=null,n.pointB=null,o&&a.trigger(t,"enddrag",{mouse:i,body:o})},n._triggerEvents=function(t){var e=t.mouse,i=e.sourceEvents;i.mousemove&&a.trigger(t,"mousemove",{mouse:e}),i.mousedown&&a.trigger(t,"mousedown",{mouse:e}),i.mouseup&&a.trigger(t,"mouseup",{mouse:e}),o.clearSourceEvents(e)}},function(t,e,i){var n={};t.exports=n;var s=i(2),r=i(8),o=i(1),a=i(12),l=i(3);n.collides=function(t,e){for(var i=[],n=e.length,s=t.bounds,a=r.collides,l=o.overlaps,c=0;c<n;c++){var h=e[c],u=h.parts.length,d=+(1!==u);if(l(h.bounds,s))for(var p=d;p<u;p++){var f=h.parts[p];if(l(f.bounds,s)){var m=a(f,t);if(m){i.push(m);break}}}}return i},n.ray=function(t,e,i,r){r=r||1e-100;for(var o=s.angle(e,i),l=s.magnitude(s.sub(e,i)),c=(i.x+e.x)*.5,h=(i.y+e.y)*.5,u=a.rectangle(c,h,l,r,{angle:o}),d=n.collides(u,t),p=0;p<d.length;p+=1){var f=d[p];f.body=f.bodyB=f.bodyA}return d},n.region=function(t,e,i){for(var n=[],s=0;s<t.length;s++){var r=t[s],a=o.overlaps(r.bounds,e);(a&&!i||!a&&i)&&n.push(r)}return n},n.point=function(t,e){for(var i=[],n=0;n<t.length;n++){var s=t[n];if(o.contains(s.bounds,e))for(var r=+(1!==s.parts.length);r<s.parts.length;r++){var a=s.parts[r];if(o.contains(a.bounds,e)&&l.contains(a.vertices,e)){i.push(s);break}}}return i}},function(t,e,i){var n,s,r,o,a,l,c,h,u={};t.exports=u;var d=i(4),p=i(0),f=i(6),m=i(1),g=i(5),x=i(2),v=i(14);"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(p.now())},1e3/60)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),u._goodFps=30,u._goodDelta=1e3/60,u.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=p.extend(e,t);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=t.mouse,i.engine=t.engine,i.canvas=i.canvas||a(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},i.controller=u,i.options.showBroadphase=!1,1!==i.options.pixelRatio&&u.setPixelRatio(i,i.options.pixelRatio),p.isElement(i.element)&&i.element.appendChild(i.canvas),i},u.run=function(t){!function e(i){t.frameRequestId=n(e),r(t,i),u.world(t,i),t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0),(t.options.showStats||t.options.showDebug)&&u.stats(t,t.context,i),(t.options.showPerformance||t.options.showDebug)&&u.performance(t,t.context,i),t.context.setTransform(1,0,0,1,0,0)}()},u.stop=function(t){s(t.frameRequestId)},u.setPixelRatio=function(t,e){var i=t.options,n=t.canvas;"auto"===e&&(e=l(n)),i.pixelRatio=e,n.setAttribute("data-pixel-ratio",e),n.width=i.width*e,n.height=i.height*e,n.style.width=i.width+"px",n.style.height=i.height+"px"},u.setSize=function(t,e,i){t.options.width=e,t.options.height=i,t.bounds.max.x=t.bounds.min.x+e,t.bounds.max.y=t.bounds.min.y+i,1!==t.options.pixelRatio?u.setPixelRatio(t,t.options.pixelRatio):(t.canvas.width=e,t.canvas.height=i)},u.lookAt=function(t,e,i,n){n=void 0===n||n,e=p.isArray(e)?e:[e],i=i||{x:0,y:0};for(var s={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},r=0;r<e.length;r+=1){var o=e[r],a=o.bounds?o.bounds.min:o.min||o.position||o,l=o.bounds?o.bounds.max:o.max||o.position||o;a&&l&&(a.x<s.min.x&&(s.min.x=a.x),l.x>s.max.x&&(s.max.x=l.x),a.y<s.min.y&&(s.min.y=a.y),l.y>s.max.y&&(s.max.y=l.y))}var c=s.max.x-s.min.x+2*i.x,h=s.max.y-s.min.y+2*i.y,u=t.canvas.height,d=t.canvas.width/u,f=c/h,m=1,g=1;f>d?g=f/d:m=d/f,t.options.hasBounds=!0,t.bounds.min.x=s.min.x,t.bounds.max.x=s.min.x+c*m,t.bounds.min.y=s.min.y,t.bounds.max.y=s.min.y+h*g,n&&(t.bounds.min.x+=.5*c-c*m*.5,t.bounds.max.x+=.5*c-c*m*.5,t.bounds.min.y+=.5*h-h*g*.5,t.bounds.max.y+=.5*h-h*g*.5),t.bounds.min.x-=i.x,t.bounds.max.x-=i.x,t.bounds.min.y-=i.y,t.bounds.max.y-=i.y,t.mouse&&(v.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),v.setOffset(t.mouse,t.bounds.min))},u.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,i=t.bounds.max.y-t.bounds.min.y,n=e/t.options.width,s=i/t.options.height;t.context.setTransform(t.options.pixelRatio/n,0,0,t.options.pixelRatio/s,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},u.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},u.world=function(t,e){var i,n=p.now(),s=t.engine,r=s.world,o=t.canvas,a=t.context,l=t.options,c=t.timing,d=f.allBodies(r),y=f.allConstraints(r),b=l.wireframes?l.wireframeBackground:l.background,w=[],S=[],A={timestamp:s.timing.timestamp};if(g.trigger(t,"beforeRender",A),t.currentBackground!==b&&h(t,b),a.globalCompositeOperation="source-in",a.fillStyle="transparent",a.fillRect(0,0,o.width,o.height),a.globalCompositeOperation="source-over",l.hasBounds){for(i=0;i<d.length;i++){var M=d[i];m.overlaps(M.bounds,t.bounds)&&w.push(M)}for(i=0;i<y.length;i++){var C=y[i],_=C.bodyA,P=C.bodyB,I=C.pointA,B=C.pointB;_&&(I=x.add(_.position,C.pointA)),P&&(B=x.add(P.position,C.pointB)),I&&B&&(m.contains(t.bounds,I)||m.contains(t.bounds,B))&&S.push(C)}u.startViewTransform(t),t.mouse&&(v.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),v.setOffset(t.mouse,t.bounds.min))}else S=y,w=d,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!l.wireframes||s.enableSleeping&&l.showSleeping?u.bodies(t,w,a):(l.showConvexHulls&&u.bodyConvexHulls(t,w,a),u.bodyWireframes(t,w,a)),l.showBounds&&u.bodyBounds(t,w,a),(l.showAxes||l.showAngleIndicator)&&u.bodyAxes(t,w,a),l.showPositions&&u.bodyPositions(t,w,a),l.showVelocity&&u.bodyVelocity(t,w,a),l.showIds&&u.bodyIds(t,w,a),l.showSeparations&&u.separations(t,s.pairs.list,a),l.showCollisions&&u.collisions(t,s.pairs.list,a),l.showVertexNumbers&&u.vertexNumbers(t,w,a),l.showMousePosition&&u.mousePosition(t,t.mouse,a),u.constraints(S,a),l.hasBounds&&u.endViewTransform(t),g.trigger(t,"afterRender",A),c.lastElapsed=p.now()-n},u.stats=function(t,e,i){for(var n=t.engine,s=n.world,r=f.allBodies(s),o=0,a=0,l=0;l<r.length;l+=1)o+=r[l].parts.length;var c={Part:o,Body:r.length,Cons:f.allConstraints(s).length,Comp:f.allComposites(s).length,Pair:n.pairs.list.length};for(var h in e.fillStyle="#0e0f19",e.fillRect(a,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",c){var u=c[h];e.fillStyle="#aaa",e.fillText(h,a+55,8),e.fillStyle="#eee",e.fillText(u,a+55,26),a+=55}},u.performance=function(t,e){var i=t.engine,n=t.timing,s=n.deltaHistory,r=n.elapsedHistory,a=n.timestampElapsedHistory,l=n.engineDeltaHistory,c=n.engineUpdatesHistory,h=n.engineElapsedHistory,d=i.timing.lastUpdatesPerFrame,f=i.timing.lastDelta,m=o(s),g=o(r),x=o(l),v=o(c),y=o(h),b=o(a)/m||0,w=Math.round(m/f),S=1e3/m||0;e.fillStyle="#0e0f19",e.fillRect(0,50,442,34),u.status(e,10,69,60,4,s.length,Math.round(S)+" fps",S/u._goodFps,function(t){return s[t]/m-1}),u.status(e,82,69,60,4,l.length,f.toFixed(2)+" dt",u._goodDelta/f,function(t){return l[t]/x-1}),u.status(e,154,69,60,4,c.length,d+" upf",Math.pow(p.clamp(v/w||1,0,1),4),function(t){return c[t]/v-1}),u.status(e,226,69,60,4,h.length,y.toFixed(2)+" ut",1-d*y/u._goodFps,function(t){return h[t]/y-1}),u.status(e,298,69,60,4,r.length,g.toFixed(2)+" rt",1-g/u._goodFps,function(t){return r[t]/g-1}),u.status(e,370,69,60,4,a.length,b.toFixed(2)+" x",b*b*b,function(t){return(a[t]/s[t]/b||0)-1})},u.status=function(t,e,i,n,s,r,o,a,l){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,i+7,n,1),t.beginPath(),t.moveTo(e,i+7-s*p.clamp(.4*l(0),-2,2));for(var c=0;c<n;c+=1)t.lineTo(e+c,i+7-(c<r?s*p.clamp(.4*l(c),-2,2):0));t.stroke(),t.fillStyle="hsl("+p.clamp(25+95*a,0,120)+",100%,60%)",t.fillRect(e,i-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(o,e+n,i-5)},u.constraints=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n.render.visible&&n.pointA&&n.pointB){var s,r,o=n.bodyA,a=n.bodyB;if(s=o?x.add(o.position,n.pointA):n.pointA,"pin"===n.render.type)e.beginPath(),e.arc(s.x,s.y,3,0,2*Math.PI),e.closePath();else{if(r=a?x.add(a.position,n.pointB):n.pointB,e.beginPath(),e.moveTo(s.x,s.y),"spring"===n.render.type)for(var l,c=x.sub(r,s),h=x.perp(x.normalise(c)),u=Math.ceil(p.clamp(n.length/5,12,20)),d=1;d<u;d+=1)l=d%2==0?1:-1,e.lineTo(s.x+c.x*(d/u)+h.x*l*4,s.y+c.y*(d/u)+h.y*l*4);e.lineTo(r.x,r.y)}n.render.lineWidth&&(e.lineWidth=n.render.lineWidth,e.strokeStyle=n.render.strokeStyle,e.stroke()),n.render.anchors&&(e.fillStyle=n.render.strokeStyle,e.beginPath(),e.arc(s.x,s.y,3,0,2*Math.PI),e.arc(r.x,r.y,3,0,2*Math.PI),e.closePath(),e.fill())}}},u.bodies=function(t,e,i){t.engine;var n,s,r,o,a=t.options,l=a.showInternalEdges||!a.wireframes;for(r=0;r<e.length;r++)if((n=e[r]).render.visible){for(o=+(n.parts.length>1);o<n.parts.length;o++)if((s=n.parts[o]).render.visible){if(a.showSleeping&&n.isSleeping?i.globalAlpha=.5*s.render.opacity:1!==s.render.opacity&&(i.globalAlpha=s.render.opacity),s.render.sprite&&s.render.sprite.texture&&!a.wireframes){var h=s.render.sprite,u=c(t,h.texture);i.translate(s.position.x,s.position.y),i.rotate(s.angle),i.drawImage(u,-(u.width*h.xOffset)*h.xScale,-(u.height*h.yOffset)*h.yScale,u.width*h.xScale,u.height*h.yScale),i.rotate(-s.angle),i.translate(-s.position.x,-s.position.y)}else{if(s.circleRadius)i.beginPath(),i.arc(s.position.x,s.position.y,s.circleRadius,0,2*Math.PI);else{i.beginPath(),i.moveTo(s.vertices[0].x,s.vertices[0].y);for(var d=1;d<s.vertices.length;d++)!s.vertices[d-1].isInternal||l?i.lineTo(s.vertices[d].x,s.vertices[d].y):i.moveTo(s.vertices[d].x,s.vertices[d].y),s.vertices[d].isInternal&&!l&&i.moveTo(s.vertices[(d+1)%s.vertices.length].x,s.vertices[(d+1)%s.vertices.length].y);i.lineTo(s.vertices[0].x,s.vertices[0].y),i.closePath()}a.wireframes?(i.lineWidth=1,i.strokeStyle=t.options.wireframeStrokeStyle,i.stroke()):(i.fillStyle=s.render.fillStyle,s.render.lineWidth&&(i.lineWidth=s.render.lineWidth,i.strokeStyle=s.render.strokeStyle,i.stroke()),i.fill())}i.globalAlpha=1}}},u.bodyWireframes=function(t,e,i){var n,s,r,o,a,l=t.options.showInternalEdges;for(i.beginPath(),r=0;r<e.length;r++)if((n=e[r]).render.visible)for(a=+(n.parts.length>1);a<n.parts.length;a++){for(s=n.parts[a],i.moveTo(s.vertices[0].x,s.vertices[0].y),o=1;o<s.vertices.length;o++)!s.vertices[o-1].isInternal||l?i.lineTo(s.vertices[o].x,s.vertices[o].y):i.moveTo(s.vertices[o].x,s.vertices[o].y),s.vertices[o].isInternal&&!l&&i.moveTo(s.vertices[(o+1)%s.vertices.length].x,s.vertices[(o+1)%s.vertices.length].y);i.lineTo(s.vertices[0].x,s.vertices[0].y)}i.lineWidth=1,i.strokeStyle=t.options.wireframeStrokeStyle,i.stroke()},u.bodyConvexHulls=function(t,e,i){var n,s,r;for(i.beginPath(),s=0;s<e.length;s++)if((n=e[s]).render.visible&&1!==n.parts.length){for(i.moveTo(n.vertices[0].x,n.vertices[0].y),r=1;r<n.vertices.length;r++)i.lineTo(n.vertices[r].x,n.vertices[r].y);i.lineTo(n.vertices[0].x,n.vertices[0].y)}i.lineWidth=1,i.strokeStyle="rgba(255,255,255,0.2)",i.stroke()},u.vertexNumbers=function(t,e,i){var n,s,r;for(n=0;n<e.length;n++){var o=e[n].parts;for(r=+(o.length>1);r<o.length;r++){var a=o[r];for(s=0;s<a.vertices.length;s++)i.fillStyle="rgba(255,255,255,0.2)",i.fillText(n+"_"+s,a.position.x+(a.vertices[s].x-a.position.x)*.8,a.position.y+(a.vertices[s].y-a.position.y)*.8)}}},u.mousePosition=function(t,e,i){i.fillStyle="rgba(255,255,255,0.8)",i.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},u.bodyBounds=function(t,e,i){t.engine;var n=t.options;i.beginPath();for(var s=0;s<e.length;s++)if(e[s].render.visible)for(var r=e[s].parts,o=+(r.length>1);o<r.length;o++){var a=r[o];i.rect(a.bounds.min.x,a.bounds.min.y,a.bounds.max.x-a.bounds.min.x,a.bounds.max.y-a.bounds.min.y)}n.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},u.bodyAxes=function(t,e,i){t.engine;var n,s,r,o,a=t.options;for(i.beginPath(),s=0;s<e.length;s++){var l=e[s],c=l.parts;if(l.render.visible)if(a.showAxes)for(r=+(c.length>1);r<c.length;r++)for(o=0,n=c[r];o<n.axes.length;o++){var h=n.axes[o];i.moveTo(n.position.x,n.position.y),i.lineTo(n.position.x+20*h.x,n.position.y+20*h.y)}else for(r=+(c.length>1);r<c.length;r++)for(o=0,n=c[r];o<n.axes.length;o++)i.moveTo(n.position.x,n.position.y),i.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2)}a.wireframes?(i.strokeStyle="indianred",i.lineWidth=1):(i.strokeStyle="rgba(255, 255, 255, 0.4)",i.globalCompositeOperation="overlay",i.lineWidth=2),i.stroke(),i.globalCompositeOperation="source-over"},u.bodyPositions=function(t,e,i){t.engine;var n,s,r,o,a=t.options;for(i.beginPath(),r=0;r<e.length;r++)if((n=e[r]).render.visible)for(o=0;o<n.parts.length;o++)s=n.parts[o],i.arc(s.position.x,s.position.y,3,0,2*Math.PI,!1),i.closePath();for(a.wireframes?i.fillStyle="indianred":i.fillStyle="rgba(0,0,0,0.5)",i.fill(),i.beginPath(),r=0;r<e.length;r++)(n=e[r]).render.visible&&(i.arc(n.positionPrev.x,n.positionPrev.y,2,0,2*Math.PI,!1),i.closePath());i.fillStyle="rgba(255,165,0,0.8)",i.fill()},u.bodyVelocity=function(t,e,i){i.beginPath();for(var n=0;n<e.length;n++){var s=e[n];if(s.render.visible){var r=d.getVelocity(s);i.moveTo(s.position.x,s.position.y),i.lineTo(s.position.x+r.x,s.position.y+r.y)}}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},u.bodyIds=function(t,e,i){var n,s;for(n=0;n<e.length;n++)if(e[n].render.visible){var r=e[n].parts;for(s=+(r.length>1);s<r.length;s++){var o=r[s];i.font="12px Arial",i.fillStyle="rgba(255,255,255,0.5)",i.fillText(o.id,o.position.x+10,o.position.y-10)}}},u.collisions=function(t,e,i){var n,s,r,o,a=t.options;for(i.beginPath(),r=0;r<e.length;r++)if((n=e[r]).isActive)for(o=0,s=n.collision;o<n.contactCount;o++){var l=n.contacts[o].vertex;i.rect(l.x-1.5,l.y-1.5,3.5,3.5)}for(a.wireframes?i.fillStyle="rgba(255,255,255,0.7)":i.fillStyle="orange",i.fill(),i.beginPath(),r=0;r<e.length;r++)if((n=e[r]).isActive&&(s=n.collision,n.contactCount>0)){var c=n.contacts[0].vertex.x,h=n.contacts[0].vertex.y;2===n.contactCount&&(c=(n.contacts[0].vertex.x+n.contacts[1].vertex.x)/2,h=(n.contacts[0].vertex.y+n.contacts[1].vertex.y)/2),s.bodyB===s.supports[0].body||!0===s.bodyA.isStatic?i.moveTo(c-8*s.normal.x,h-8*s.normal.y):i.moveTo(c+8*s.normal.x,h+8*s.normal.y),i.lineTo(c,h)}a.wireframes?i.strokeStyle="rgba(255,165,0,0.7)":i.strokeStyle="orange",i.lineWidth=1,i.stroke()},u.separations=function(t,e,i){var n,s,r,o,a,l=t.options;for(i.beginPath(),a=0;a<e.length;a++)if((n=e[a]).isActive){r=(s=n.collision).bodyA;var c=1;(o=s.bodyB).isStatic||r.isStatic||(c=.5),o.isStatic&&(c=0),i.moveTo(o.position.x,o.position.y),i.lineTo(o.position.x-s.penetration.x*c,o.position.y-s.penetration.y*c),c=1,o.isStatic||r.isStatic||(c=.5),r.isStatic&&(c=0),i.moveTo(r.position.x,r.position.y),i.lineTo(r.position.x+s.penetration.x*c,r.position.y+s.penetration.y*c)}l.wireframes?i.strokeStyle="rgba(255,165,0,0.5)":i.strokeStyle="orange",i.stroke()},u.inspector=function(t,e){t.engine;var i,n=t.selected,s=t.render,r=s.options;if(r.hasBounds){var o=s.bounds.max.x-s.bounds.min.x,a=s.bounds.max.y-s.bounds.min.y,l=o/s.options.width,c=a/s.options.height;e.scale(1/l,1/c),e.translate(-s.bounds.min.x,-s.bounds.min.y)}for(var h=0;h<n.length;h++){var u=n[h].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),u.type){case"body":i=u.bounds,e.beginPath(),e.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var d=u.pointA;u.bodyA&&(d=u.pointB),e.beginPath(),e.arc(d.x,d.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",i=t.selectBounds,e.beginPath(),e.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),r.hasBounds&&e.setTransform(1,0,0,1,0,0)},r=function(t,e){var i=t.engine,n=t.timing,s=n.historySize,r=i.timing.timestamp;n.delta=e-n.lastTime||u._goodDelta,n.lastTime=e,n.timestampElapsed=r-n.lastTimestamp||0,n.lastTimestamp=r,n.deltaHistory.unshift(n.delta),n.deltaHistory.length=Math.min(n.deltaHistory.length,s),n.engineDeltaHistory.unshift(i.timing.lastDelta),n.engineDeltaHistory.length=Math.min(n.engineDeltaHistory.length,s),n.timestampElapsedHistory.unshift(n.timestampElapsed),n.timestampElapsedHistory.length=Math.min(n.timestampElapsedHistory.length,s),n.engineUpdatesHistory.unshift(i.timing.lastUpdatesPerFrame),n.engineUpdatesHistory.length=Math.min(n.engineUpdatesHistory.length,s),n.engineElapsedHistory.unshift(i.timing.lastElapsed),n.engineElapsedHistory.length=Math.min(n.engineElapsedHistory.length,s),n.elapsedHistory.unshift(n.lastElapsed),n.elapsedHistory.length=Math.min(n.elapsedHistory.length,s)},o=function(t){for(var e=0,i=0;i<t.length;i+=1)e+=t[i];return e/t.length||0},a=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},l=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},c=function(t,e){var i=t.textures[e];return i||((i=t.textures[e]=new Image).src=e),i},h=function(t,e){var i=e;/(jpg|gif|png)$/.test(e)&&(i="url("+e+")"),t.canvas.style.background=i,t.canvas.style.backgroundSize="contain",t.currentBackground=e}},function(t,e,i){var n,s={};t.exports=s;var r=i(5),o=i(17),a=i(0);s._maxFrameDelta=1e3/15,s._frameDeltaFallback=1e3/60,s._timeBufferMargin=1.5,s._elapsedNextEstimate=1,s._smoothingLowerBound=.1,s._smoothingUpperBound=.9,s.create=function(t){var e=a.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},t);return e.fps=0,e},s.run=function(t,e){return t.timeBuffer=s._frameDeltaFallback,!function i(n){t.frameRequestId=s._onNextFrame(t,i),n&&t.enabled&&s.tick(t,e,n)}(),t},s.tick=function(t,e,i){var l=a.now(),c=t.delta,h=0,u=i-t.timeLastTick;if((!u||!t.timeLastTick||u>Math.max(s._maxFrameDelta,t.maxFrameTime))&&(u=t.frameDelta||s._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(u),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var d=t.frameDeltaHistory.slice(0).sort();u=n(t.frameDeltaHistory.slice(d.length*s._smoothingLowerBound,d.length*s._smoothingUpperBound))||u}t.frameDeltaSnapping&&(u=1e3/Math.round(1e3/u)),t.frameDelta=u,t.timeLastTick=i,t.timeBuffer+=t.frameDelta,t.timeBuffer=a.clamp(t.timeBuffer,0,t.frameDelta+c*s._timeBufferMargin),t.lastUpdatesDeferred=0;var p=t.maxUpdates||Math.ceil(t.maxFrameTime/c),f={timestamp:e.timing.timestamp};r.trigger(t,"beforeTick",f),r.trigger(t,"tick",f);for(var m=a.now();c>0&&t.timeBuffer>=c*s._timeBufferMargin;){r.trigger(t,"beforeUpdate",f),o.update(e,c),r.trigger(t,"afterUpdate",f),t.timeBuffer-=c,h+=1;var g=a.now()-l,x=a.now()-m,v=g+s._elapsedNextEstimate*x/h;if(h>=p||v>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/c-s._timeBufferMargin));break}}e.timing.lastUpdatesPerFrame=h,r.trigger(t,"afterTick",f),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/c)>p?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==t.isFixed&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==t.fps&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},s.stop=function(t){s._cancelNextFrame(t)},s._onNextFrame=function(t,e){if("undefined"!=typeof window&&window.requestAnimationFrame)t.frameRequestId=window.requestAnimationFrame(e);else throw Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId},s._cancelNextFrame=function(t){if("undefined"!=typeof window&&window.cancelAnimationFrame)window.cancelAnimationFrame(t.frameRequestId);else throw Error("Matter.Runner: missing required global window.cancelAnimationFrame.")},n=function(t){for(var e=0,i=t.length,n=0;n<i;n+=1)e+=t[n];return e/i||0}},function(t,e,i){var n={};t.exports=n;var s=i(8),r=i(0).deprecated;n.collides=function(t,e){return s.collides(t,e)},r(n,"collides","SAT.collides âž¤ replaced by Collision.collides")},function(t,e,i){var n={};t.exports=n,i(1);var s=i(0);n.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,o,a,l,c,h,u,d,p,f,m=[],g=0,x=0,v=0;e=e||15;var y=function(t,e,i){var n=i%2==1&&i>1;if(!d||t!=d.x||e!=d.y){d&&n?(p=d.x,f=d.y):(p=0,f=0);var s={x:p+t,y:f+e};(n||!d)&&(d=s),m.push(s),x=p+t,v=f+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":x=t.x,v=t.y;break;case"H":x=t.x;break;case"V":v=t.y}y(x,v,t.pathSegType)}};for(n._svgPathToAbsolute(t),o=t.getTotalLength(),c=[],i=0;i<t.pathSegList.numberOfItems;i+=1)c.push(t.pathSegList.getItem(i));for(h=c.concat();g<o;){if((l=c[t.getPathSegAtLength(g)])!=u){for(;h.length&&h[0]!=l;)b(h.shift());u=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":y((a=t.getPointAtLength(g)).x,a.y,0)}g+=e}for(i=0,r=h.length;i<r;++i)b(h[i]);return m},n._svgPathToAbsolute=function(t){for(var e,i,n,s,r,o,a=t.pathSegList,l=0,c=0,h=a.numberOfItems,u=0;u<h;++u){var d=a.getItem(u),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(l=d.x),"y"in d&&(c=d.y);else switch("x1"in d&&(n=l+d.x1),"x2"in d&&(r=l+d.x2),"y1"in d&&(s=c+d.y1),"y2"in d&&(o=c+d.y2),"x"in d&&(l+=d.x),"y"in d&&(c+=d.y),p){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(l,c),u);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(l,c),u);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),u);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),u);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,c,n,s,r,o),u);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,o),u);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,c,n,s),u);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),u);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(l,c,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),u);break;case"z":case"Z":l=e,c=i}("M"==p||"m"==p)&&(e=l,i=c)}}},function(t,e,i){var n={};t.exports=n;var s=i(6);i(0),n.create=s.create,n.add=s.add,n.remove=s.remove,n.clear=s.clear,n.addComposite=s.addComposite,n.addBody=s.addBody,n.addConstraint=s.addConstraint}],i={};function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=i,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,(function(e){return t[e]}).bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}()},47332,t=>{"use strict";let e,i,n;var s=t.i(65230),r=t.i(12324),o=t.i(87294),a=t.i(25658),l=t.i(54853),c=t.i(13854);let h=(0,t.i(21168).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var u=t.i(41154),d=t.i(26811),p=t.i(59002),f=t.i(18430),m=t.i(73494),g=t.i(80817);function x(t){let e=(0,g.useConstant)(()=>(0,f.motionValue)(t)),{isStatic:i}=(0,r.useContext)(m.MotionConfigContext);if(i){let[,i]=(0,r.useState)(t);(0,r.useEffect)(()=>e.on("change",i),[])}return e}var v=t.i(8887),y=t.i(5459),b=t.i(23663);function w(t){return"number"==typeof t?t:parseFloat(t)}var S=t.i(27984),A=t.i(58319);function M(t,e){let i=x(e()),n=()=>i.set(e());return n(),(0,A.useIsomorphicLayoutEffect)(()=>{let e=()=>b.frame.preRender(n,!1,!0),i=t.map(t=>t.on("change",e));return()=>{i.forEach(t=>t()),(0,b.cancelFrame)(n)}}),i}function C(t,e,i,n){if("function"==typeof t){let e;return f.collectMotionValues.current=[],t(),e=M(f.collectMotionValues.current,t),f.collectMotionValues.current=void 0,e}let s="function"==typeof e?e:function(...t){let e=!Array.isArray(t[0]),i=e?0:-1,n=t[0+i],s=t[1+i],r=t[2+i],o=t[3+i],a=(0,S.interpolate)(s,r,o);return e?a(n):a}(e,i,n);return Array.isArray(t)?_(t,s):_([t],([t])=>s(t))}function _(t,e){let i=(0,g.useConstant)(()=>[]);return M(t,()=>{i.length=0;let n=t.length;for(let e=0;e<n;e++)i[e]=t[e].get();return e(i)})}function P(t,e={}){let{isStatic:i}=(0,r.useContext)(m.MotionConfigContext),n=()=>(0,y.isMotionValue)(t)?t.get():t;if(i)return C(n);let s=x(n());return(0,r.useInsertionEffect)(()=>(function(t,e,i){let n,s=t.get(),r=null,o=s,a="string"==typeof s?s.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},c=()=>{l(),r=new v.JSAnimation({keyframes:[w(t.get()),w(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...i,onUpdate:n})};if(t.attach((t,e)=>{o=t,n=t=>{var i,n;return e((i=t,(n=a)?i+n:i))},b.frame.postRender(c)},l),(0,y.isMotionValue)(e)){let i=e.on("change",e=>{var i,n;return t.set((i=e,(n=a)?i+n:i))}),n=t.on("destroy",i);return()=>{i(),n()}}return l})(s,t,e),[s,JSON.stringify(e)]),s}class I{width;height;ctx;x;y;color;speed;size;sizeStep;minSize;maxSizeInteger;maxSize;delay;counter;counterStep;isIdle;isReverse;isShimmer;constructor(t,e,i,n,s,r,o){this.width=t.width,this.height=t.height,this.ctx=e,this.x=i,this.y=n,this.color=s,this.speed=this.getRandomValue(.1,.9)*r,this.size=0,this.sizeStep=.4*Math.random(),this.minSize=.5,this.maxSizeInteger=2,this.maxSize=this.getRandomValue(this.minSize,this.maxSizeInteger),this.delay=o,this.counter=0,this.counterStep=4*Math.random()+(this.width+this.height)*.01,this.isIdle=!1,this.isReverse=!1,this.isShimmer=!1}getRandomValue(t,e){return Math.random()*(e-t)+t}draw(){let t=.5*this.maxSizeInteger-.5*this.size;this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+t,this.y+t,this.size,this.size)}appear(){if(this.isIdle=!1,this.counter<=this.delay){this.counter+=this.counterStep;return}this.size>=this.maxSize&&(this.isShimmer=!0),this.isShimmer?this.shimmer():this.size+=this.sizeStep,this.draw()}disappear(){if(this.isShimmer=!1,this.counter=0,this.size<=0){this.isIdle=!0;return}this.size-=.1,this.draw()}shimmer(){this.size>=this.maxSize?this.isReverse=!0:this.size<=this.minSize&&(this.isReverse=!1),this.isReverse?this.size-=this.speed:this.size+=this.speed}}let B={default:{activeColor:null,gap:5,speed:35,colors:"#f8fafc,#f1f5f9,#cbd5e1",noFocus:!1,spotlightColor:"rgba(255, 255, 255, 0.15)"},blue:{activeColor:"#e0f2fe",gap:10,speed:25,colors:"#e0f2fe,#7dd3fc,#0ea5e9",noFocus:!1,spotlightColor:"rgba(14, 165, 233, 0.2)"},yellow:{activeColor:"#fef08a",gap:3,speed:20,colors:"#fef08a,#fde047,#eab308",noFocus:!1,spotlightColor:"rgba(234, 179, 8, 0.2)"},pink:{activeColor:"#fecdd3",gap:6,speed:80,colors:"#fecdd3,#fda4af,#e11d48",noFocus:!0,spotlightColor:"rgba(225, 29, 72, 0.2)"}},E={damping:30,stiffness:100,mass:2};function k({variant:t="default",gap:e,speed:i,colors:n,noFocus:a,spotlightColor:l,enable3D:c=!1,rotateAmplitude:h=8,scaleOnHover:u=1.05,className:d="",children:p}){let f=(0,r.useRef)(null),m=(0,r.useRef)(null),g=(0,r.useRef)([]),v=(0,r.useRef)(null),y=(0,r.useRef)(performance.now()),b=(0,r.useRef)(window.matchMedia("(prefers-reduced-motion: reduce)").matches).current,[w,S]=(0,r.useState)({x:0,y:0}),[A,M]=(0,r.useState)(0),C=P(x(0),E),_=P(x(0),E),k=P(1,E),T=B[t]||B.default,R=e??T.gap,j=i??T.speed,F=n??T.colors,L=a??T.noFocus,N=l??T.spotlightColor,O=()=>{if(!f.current||!m.current)return;let t=f.current.getBoundingClientRect(),e=Math.floor(t.width),i=Math.floor(t.height),n=m.current.getContext("2d");m.current.width=e,m.current.height=i,m.current.style.width=`${e}px`,m.current.style.height=`${i}px`;let s=F.split(","),r=[];for(let t=0;t<e;t+=parseInt(R.toString(),10))for(let o=0;o<i;o+=parseInt(R.toString(),10)){let a=s[Math.floor(Math.random()*s.length)],l=t-e/2,c=o-i/2,h=Math.sqrt(l*l+c*c),u=b?0:h;if(!n)return;r.push(new I(m.current,n,t,o,a,j<=0||b?0:j>=100?.1:.001*j,u))}g.current=r},D=t=>{v.current=requestAnimationFrame(()=>D(t));let e=performance.now(),i=e-y.current;if(i<1e3/60)return;y.current=e-i%(1e3/60);let n=m.current?.getContext("2d");if(!n||!m.current)return;n.clearRect(0,0,m.current.width,m.current.height);let s=!0;for(let e=0;e<g.current.length;e++){let i=g.current[e];i[t](),i.isIdle||(s=!1)}s&&cancelAnimationFrame(v.current)},V=t=>{null!==v.current&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>D(t))};(0,r.useEffect)(()=>{O();let t=new ResizeObserver(()=>{O()});return f.current&&t.observe(f.current),()=>{t.disconnect(),null!==v.current&&cancelAnimationFrame(v.current)}},[R,j,F,L]);let z=c?o.motion.div:"div",q=c?{style:{rotateX:C,rotateY:_,scale:k,transformStyle:"preserve-3d"}}:{};return(0,s.jsx)("div",{ref:f,className:`relative overflow-hidden grid place-items-center border border-[#27272a] rounded-[25px] isolate transition-colors duration-200 ease-[cubic-bezier(0.5,1,0.89,1)] select-none ${c?"[perspective:1000px]":""} ${d}`,onMouseMove:t=>{if(!f.current)return;let e=f.current.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top;if(S({x:i,y:n}),c){let t=i-e.width/2,s=-((n-e.height/2)/(e.height/2)*h),r=t/(e.width/2)*h;C.set(s),_.set(r)}},onMouseEnter:()=>{V("appear"),M(.6),c&&k.set(u)},onMouseLeave:()=>{V("disappear"),M(0),c&&(k.set(1),C.set(0),_.set(0))},onFocus:L?void 0:t=>{t.currentTarget.contains(t.relatedTarget)||(V("appear"),M(.6))},onBlur:L?void 0:t=>{t.currentTarget.contains(t.relatedTarget)||(V("disappear"),M(0))},tabIndex:L?-1:0,children:(0,s.jsxs)(z,{...q,className:"w-full h-full relative",children:[(0,s.jsx)("canvas",{className:"absolute inset-0 w-full h-full block -z-10 opacity-30",ref:m}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500 ease-in-out -z-10",style:{opacity:A,background:`radial-gradient(circle at ${w.x}px ${w.y}px, ${N}, transparent 80%)`}}),(0,s.jsx)("div",{className:"relative z-10 w-full h-full",children:p})]})})}function T(t){let e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function R(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function j(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function F(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function L(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function N(t){let e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function O(t,e){let i=e[0],n=e[1],s=e[2],r=i*i+n*n+s*s;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function D(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function V(t,e,i){let n=e[0],s=e[1],r=e[2],o=i[0],a=i[1],l=i[2];return t[0]=s*l-r*a,t[1]=r*o-n*l,t[2]=n*a-s*o,t}let z=(e=[0,0,0],i=[0,0,0],function(t,n){R(e,t),R(i,n),O(e,e),O(i,i);let s=D(e,i);return s>1?0:s<-1?Math.PI:Math.acos(s)});class q extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this)}copy(t){return R(this,t),this}add(t,e){return e?j(this,t,e):j(this,this,t),this}sub(t,e){return e?F(this,t,e):F(this,this,t),this}multiply(t){if(t.length)this[0]=this[0]*t[0],this[1]=this[1]*t[1],this[2]=this[2]*t[2];else L(this,this,t);return this}divide(t){if(t.length)this[0]=this[0]/t[0],this[1]=this[1]/t[1],this[2]=this[2]/t[2];else L(this,this,1/t);return this}inverse(t=this){return this[0]=1/t[0],this[1]=1/t[1],this[2]=1/t[2],this}len(){return T(this)}distance(t){let e,i,n;if(!t)return T(this);return e=t[0]-this[0],Math.sqrt(e*e+(i=t[1]-this[1])*i+(n=t[2]-this[2])*n)}squaredLen(){return N(this)}squaredDistance(t){let e,i,n;if(!t)return N(this);return e=t[0]-this[0],e*e+(i=t[1]-this[1])*i+(n=t[2]-this[2])*n}negate(t=this){return this[0]=-t[0],this[1]=-t[1],this[2]=-t[2],this}cross(t,e){return e?V(this,t,e):V(this,this,t),this}scale(t){return L(this,this,t),this}normalize(){return O(this,this),this}dot(t){return D(this,t)}equals(t){return this[0]===t[0]&&this[1]===t[1]&&this[2]===t[2]}applyMatrix3(t){let e,i,n;return e=this[0],i=this[1],n=this[2],this[0]=e*t[0]+i*t[3]+n*t[6],this[1]=e*t[1]+i*t[4]+n*t[7],this[2]=e*t[2]+i*t[5]+n*t[8],this}applyMatrix4(t){let e,i,n,s;return e=this[0],i=this[1],n=this[2],s=(s=t[3]*e+t[7]*i+t[11]*n+t[15])||1,this[0]=(t[0]*e+t[4]*i+t[8]*n+t[12])/s,this[1]=(t[1]*e+t[5]*i+t[9]*n+t[13])/s,this[2]=(t[2]*e+t[6]*i+t[10]*n+t[14])/s,this}scaleRotateMatrix4(t){let e,i,n,s;return e=this[0],i=this[1],n=this[2],s=(s=t[3]*e+t[7]*i+t[11]*n+t[15])||1,this[0]=(t[0]*e+t[4]*i+t[8]*n)/s,this[1]=(t[1]*e+t[5]*i+t[9]*n)/s,this[2]=(t[2]*e+t[6]*i+t[10]*n)/s,this}applyQuaternion(t){let e,i,n,s,r,o,a,l,c,h,u,d,p,f;return e=this[0],i=this[1],n=this[2],s=t[0],r=t[1],o=t[2],a=t[3],l=r*n-o*i,c=o*e-s*n,h=s*i-r*e,u=r*h-o*c,d=o*l-s*h,p=s*c-r*l,l*=f=2*a,c*=f,h*=f,u*=2,d*=2,p*=2,this[0]=e+l+u,this[1]=i+c+d,this[2]=n+h+p,this}angle(t){return z(this,t)}lerp(t,e){let i,n,s;return i=this[0],n=this[1],s=this[2],this[0]=i+e*(t[0]-i),this[1]=n+e*(t[1]-n),this[2]=s+e*(t[2]-s),this}smoothLerp(t,e,i){let n,s,r,o;return n=Math.exp(-e*i),s=this[0],r=this[1],o=this[2],this[0]=t[0]+(s-t[0])*n,this[1]=t[1]+(r-t[1])*n,this[2]=t[2]+(o-t[2])*n,this}clone(){return new q(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){let e=this[0],i=this[1],n=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*n,this[1]=t[1]*e+t[5]*i+t[9]*n,this[2]=t[2]*e+t[6]*i+t[10]*n,this.normalize()}}let U=new q,H=1;class W{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:n=1,alpha:s=!1,depth:r=!0,stencil:o=!1,antialias:a=!1,premultipliedAlpha:l=!1,preserveDrawingBuffer:c=!1,powerPreference:h="default",autoClear:u=!0,webgl:d=2}={}){const p={alpha:s,depth:r,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h};this.dpr=n,this.alpha=s,this.color=!0,this.depth=r,this.stencil=o,this.premultipliedAlpha=l,this.autoClear=u,this.id=H++,2===d&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,i=0,n=0){(this.state.viewport.width!==t||this.state.viewport.height!==e)&&(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=n,this.gl.viewport(i,n,t,e))}setScissor(t,e,i=0,n=0){this.gl.scissor(i,n,t,e)}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,n){(this.state.blendFunc.src!==t||this.state.blendFunc.dst!==e||this.state.blendFunc.srcAlpha!==i||this.state.blendFunc.dstAlpha!==n)&&(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=n,void 0!==i?this.gl.blendFuncSeparate(t,e,i,n):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==t||this.state.blendEquation.modeAlpha!==e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,e,i){(this.state.stencilFunc!==t||this.state.stencilRef!==e||this.state.stencilFuncMask!==i)&&(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=e||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(t||this.gl.ALWAYS,e||0,i||0))}setStencilOp(t,e,i){(this.state.stencilFail!==t||this.state.stencilDepthFail!==e||this.state.stencilDepthPass!==i)&&(this.state.stencilFail=t,this.state.stencilDepthFail=e,this.state.stencilDepthPass=i,this.gl.stencilOp(t,e,i))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e)?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t]}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:n}){let s=[];if(e&&i&&e.updateFrustum(),t.traverse(t=>!t.visible||(t.draw?void((!i||!t.frustumCulled||!e||e.frustumIntersectsMesh(t))&&s.push(t)):void 0)),n){let t=[],i=[],n=[];s.forEach(s=>{s.program.transparent?s.program.depthTest?i.push(s):n.push(s):t.push(s),s.zDepth=0,0===s.renderOrder&&s.program.depthTest&&e&&(s.worldMatrix.getTranslation(U),U.applyMatrix4(e.projectionViewMatrix),s.zDepth=U.z)}),t.sort(this.sortOpaque),i.sort(this.sortTransparent),n.sort(this.sortUI),s=t.concat(i,n)}return s}render({scene:t,camera:e,target:i=null,update:n=!0,sort:s=!0,frustumCull:r=!0,clear:o}){null===i?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(o||this.autoClear&&!1!==o)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),n&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:r,sort:s}).forEach(t=>{t.draw({camera:e})})}}let G=1,X={};class Y{constructor(t,{vertex:e,fragment:i,uniforms:n={},transparent:s=!1,cullFace:r=t.BACK,frontFace:o=t.CCW,depthTest:a=!0,depthWrite:l=!0,depthFunc:c=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=n,this.id=G++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=r,this.frontFace=o,this.depthTest=a,this.depthWrite=l,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:i})}setShaders({vertex:t,fragment:e}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),""!==this.gl.getShaderInfoLog(this.vertexShader)&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Z(t)}`)),e&&(this.gl.shaderSource(this.fragmentShader,e),this.gl.compileShader(this.fragmentShader),""!==this.gl.getShaderInfoLog(this.fragmentShader)&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Z(e)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let t=0;t<i;t++){let e=this.gl.getActiveUniform(this.program,t);this.uniformLocations.set(e,this.gl.getUniformLocation(this.program,e.name));let i=e.name.match(/(\w+)/g);e.uniformName=i[0],e.nameComponents=i.slice(1)}this.attributeLocations=new Map;let n=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let t=0;t<s;t++){let e=this.gl.getActiveAttrib(this.program,t),i=this.gl.getAttribLocation(this.program,e.name);-1!==i&&(n[i]=e.name,this.attributeLocations.set(e,i))}this.attributeOrder=n.join("")}setBlendFunc(t,e,i,n){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=n,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}setStencilFunc(t,e,i){this.stencilRef=e,this.stencilFunc.func=t,this.stencilFunc.ref=e,this.stencilFunc.mask=i}setStencilOp(t,e,i){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=e,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram!==this.id&&(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((t,i)=>{let n=this.uniforms[i.uniformName];for(let t of i.nameComponents){if(!n)break;if(t in n)n=n[t];else if(Array.isArray(n.value))break;else{n=void 0;break}}if(!n)return Q(`Active uniform ${i.name} has not been supplied`);if(n&&void 0===n.value)return Q(`${i.name} uniform is missing a value parameter`);if(n.value.texture)return e+=1,n.value.update(e),$(this.gl,i.type,t,e);if(n.value.length&&n.value[0].texture){let s=[];return n.value.forEach(t=>{e+=1,t.update(e),s.push(e)}),$(this.gl,i.type,t,s)}$(this.gl,i.type,t,n.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function $(t,e,i,n){n=n.length?function(t){let e=t.length,i=t[0].length;if(void 0===i)return t;let n=e*i,s=X[n];s||(X[n]=s=new Float32Array(n));for(let n=0;n<e;n++)s.set(t[n],n*i);return s}(n):n;let s=t.renderer.state.uniformLocations.get(i);if(n.length)if(void 0===s||s.length!==n.length)t.renderer.state.uniformLocations.set(i,n.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}(s,n))return;s.set?s.set(n):function(t,e){for(let i=0,n=t.length;i<n;i++)t[i]=e[i]}(s,n),t.renderer.state.uniformLocations.set(i,s)}else{if(s===n)return;t.renderer.state.uniformLocations.set(i,n)}switch(e){case 5126:return n.length?t.uniform1fv(i,n):t.uniform1f(i,n);case 35664:return t.uniform2fv(i,n);case 35665:return t.uniform3fv(i,n);case 35666:return t.uniform4fv(i,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?t.uniform1iv(i,n):t.uniform1i(i,n);case 35671:case 35667:return t.uniform2iv(i,n);case 35672:case 35668:return t.uniform3iv(i,n);case 35673:case 35669:return t.uniform4iv(i,n);case 35674:return t.uniformMatrix2fv(i,!1,n);case 35675:return t.uniformMatrix3fv(i,!1,n);case 35676:return t.uniformMatrix4fv(i,!1,n)}}function Z(t){let e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}let K=0;function Q(t){!(K>100)&&(console.warn(t),++K>100&&console.warn("More than 100 program warnings - stopping logs."))}function J(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=i[0],l=i[1],c=i[2],h=i[3];return t[0]=n*h+o*a+s*c-r*l,t[1]=s*h+o*l+r*a-n*c,t[2]=r*h+o*c+n*l-s*a,t[3]=o*h-n*a-s*l-r*c,t}let tt=function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=i*i+n*n+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=i*o,t[1]=n*o,t[2]=s*o,t[3]=r*o,t};class te extends Array{constructor(t=0,e=0,i=0,n=1){super(t,e,i,n),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(t,e){let i=Reflect.set(...arguments);return i&&s.includes(e)&&t.onChange(),i}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){var t;return(t=this._target)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}set(t,e,i,n){var s;return t.length?this.copy(t):(s=this._target,s[0]=t,s[1]=e,s[2]=i,s[3]=n,this.onChange(),this)}rotateX(t){var e,i,n;let s,r,o,a,l,c;return e=this._target,i=this._target,n=.5*t,s=i[0],r=i[1],o=i[2],a=i[3],l=Math.sin(n),c=Math.cos(n),e[0]=s*c+a*l,e[1]=r*c+o*l,e[2]=o*c-r*l,e[3]=a*c-s*l,this.onChange(),this}rotateY(t){var e,i,n;let s,r,o,a,l,c;return e=this._target,i=this._target,n=.5*t,s=i[0],r=i[1],o=i[2],a=i[3],l=Math.sin(n),c=Math.cos(n),e[0]=s*c-o*l,e[1]=r*c+a*l,e[2]=o*c+s*l,e[3]=a*c-r*l,this.onChange(),this}rotateZ(t){var e,i,n;let s,r,o,a,l,c;return e=this._target,i=this._target,n=.5*t,s=i[0],r=i[1],o=i[2],a=i[3],l=Math.sin(n),c=Math.cos(n),e[0]=s*c+r*l,e[1]=r*c-s*l,e[2]=o*c+a*l,e[3]=a*c-o*l,this.onChange(),this}inverse(t=this._target){var e;let i,n,s,r,o,a;return e=this._target,i=t[0],n=t[1],a=(o=i*i+n*n+(s=t[2])*s+(r=t[3])*r)?1/o:0,e[0]=-i*a,e[1]=-n*a,e[2]=-s*a,e[3]=r*a,this.onChange(),this}conjugate(t=this._target){var e;return e=this._target,e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.onChange(),this}copy(t){var e;return e=this._target,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.onChange(),this}normalize(t=this._target){return tt(this._target,t),this.onChange(),this}multiply(t,e){return e?J(this._target,t,e):J(this._target,this._target,t),this.onChange(),this}dot(t){var e;return e=this._target,e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}fromMatrix3(t){return!function(t,e){let i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);let s=(n+1)%3,r=(n+2)%3;i=Math.sqrt(e[3*n+n]-e[3*s+s]-e[3*r+r]+1),t[n]=.5*i,i=.5/i,t[3]=(e[3*s+r]-e[3*r+s])*i,t[s]=(e[3*s+n]+e[3*n+s])*i,t[r]=(e[3*r+n]+e[3*n+r])*i}}(this._target,t),this.onChange(),this}fromEuler(t,e){return!function(t,e,i="YXZ"){let n=Math.sin(.5*e[0]),s=Math.cos(.5*e[0]),r=Math.sin(.5*e[1]),o=Math.cos(.5*e[1]),a=Math.sin(.5*e[2]),l=Math.cos(.5*e[2]);"XYZ"===i?(t[0]=n*o*l+s*r*a,t[1]=s*r*l-n*o*a,t[2]=s*o*a+n*r*l,t[3]=s*o*l-n*r*a):"YXZ"===i?(t[0]=n*o*l+s*r*a,t[1]=s*r*l-n*o*a,t[2]=s*o*a-n*r*l,t[3]=s*o*l+n*r*a):"ZXY"===i?(t[0]=n*o*l-s*r*a,t[1]=s*r*l+n*o*a,t[2]=s*o*a+n*r*l,t[3]=s*o*l-n*r*a):"ZYX"===i?(t[0]=n*o*l-s*r*a,t[1]=s*r*l+n*o*a,t[2]=s*o*a-n*r*l,t[3]=s*o*l+n*r*a):"YZX"===i?(t[0]=n*o*l+s*r*a,t[1]=s*r*l+n*o*a,t[2]=s*o*a-n*r*l,t[3]=s*o*l-n*r*a):"XZY"===i&&(t[0]=n*o*l-s*r*a,t[1]=s*r*l-n*o*a,t[2]=s*o*a+n*r*l,t[3]=s*o*l+n*r*a)}(this._target,t,t.order),e||this.onChange(),this}fromAxisAngle(t,e){var i,n;let s;return i=this._target,s=Math.sin(n=.5*e),i[0]=s*t[0],i[1]=s*t[1],i[2]=s*t[2],i[3]=Math.cos(n),this.onChange(),this}slerp(t,e){var i,n;let s,r,o,a,l,c,h,u,d,p,f,m,g;return i=this._target,n=this._target,c=n[0],h=n[1],u=n[2],d=n[3],p=t[0],f=t[1],(r=c*p+h*f+u*(m=t[2])+d*(g=t[3]))<0&&(r=-r,p=-p,f=-f,m=-m,g=-g),1-r>1e-6?(o=Math.sin(s=Math.acos(r)),a=Math.sin((1-e)*s)/o,l=Math.sin(e*s)/o):(a=1-e,l=e),i[0]=a*c+l*p,i[1]=a*h+l*f,i[2]=a*u+l*m,i[3]=a*d+l*g,this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this._target[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}function ti(t){let e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*o-i*r)*(u*g-d*m)-(e*a-n*r)*(h*g-d*f)+(e*l-s*r)*(h*m-u*f)+(i*a-n*o)*(c*g-d*p)-(i*l-s*o)*(c*m-u*p)+(n*l-s*a)*(c*f-h*p)}function tn(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],x=e[14],v=e[15],y=i[0],b=i[1],w=i[2],S=i[3];return t[0]=y*n+b*a+w*u+S*m,t[1]=y*s+b*l+w*d+S*g,t[2]=y*r+b*c+w*p+S*x,t[3]=y*o+b*h+w*f+S*v,y=i[4],b=i[5],w=i[6],S=i[7],t[4]=y*n+b*a+w*u+S*m,t[5]=y*s+b*l+w*d+S*g,t[6]=y*r+b*c+w*p+S*x,t[7]=y*o+b*h+w*f+S*v,y=i[8],b=i[9],w=i[10],S=i[11],t[8]=y*n+b*a+w*u+S*m,t[9]=y*s+b*l+w*d+S*g,t[10]=y*r+b*c+w*p+S*x,t[11]=y*o+b*h+w*f+S*v,y=i[12],b=i[13],w=i[14],S=i[15],t[12]=y*n+b*a+w*u+S*m,t[13]=y*s+b*l+w*d+S*g,t[14]=y*r+b*c+w*p+S*x,t[15]=y*o+b*h+w*f+S*v,t}function ts(t,e){let i=e[0],n=e[1],s=e[2],r=e[4],o=e[5],a=e[6],l=e[8],c=e[9],h=e[10];return t[0]=Math.hypot(i,n,s),t[1]=Math.hypot(r,o,a),t[2]=Math.hypot(l,c,h),t}let tr=(n=[1,1,1],function(t,e){ts(n,e);let i=1/n[0],s=1/n[1],r=1/n[2],o=e[0]*i,a=e[1]*s,l=e[2]*r,c=e[4]*i,h=e[5]*s,u=e[6]*r,d=e[8]*i,p=e[9]*s,f=e[10]*r,m=o+h+f,g=0;return m>0?(g=2*Math.sqrt(m+1),t[3]=.25*g,t[0]=(u-p)/g,t[1]=(d-l)/g,t[2]=(a-c)/g):o>h&&o>f?(g=2*Math.sqrt(1+o-h-f),t[3]=(u-p)/g,t[0]=.25*g,t[1]=(a+c)/g,t[2]=(d+l)/g):h>f?(g=2*Math.sqrt(1+h-o-f),t[3]=(d-l)/g,t[0]=(a+c)/g,t[1]=.25*g,t[2]=(u+p)/g):(g=2*Math.sqrt(1+f-o-h),t[3]=(a-c)/g,t[0]=(d+l)/g,t[1]=(u+p)/g,t[2]=.25*g),t});function to(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function ta(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}class tl extends Array{constructor(t=1,e=0,i=0,n=0,s=0,r=1,o=0,a=0,l=0,c=0,h=1,u=0,d=0,p=0,f=0,m=1){return super(t,e,i,n,s,r,o,a,l,c,h,u,d,p,f,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,n,s,r,o,a,l,c,h,u,d,p,f,m){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this[3]=n,this[4]=s,this[5]=r,this[6]=o,this[7]=a,this[8]=l,this[9]=c,this[10]=h,this[11]=u,this[12]=d,this[13]=p,this[14]=f,this[15]=m,this)}translate(t,e=this){let i,n,s,r,o,a,l,c,h,u,d,p,f,m,g;return f=t[0],m=t[1],g=t[2],e===this?(this[12]=e[0]*f+e[4]*m+e[8]*g+e[12],this[13]=e[1]*f+e[5]*m+e[9]*g+e[13],this[14]=e[2]*f+e[6]*m+e[10]*g+e[14],this[15]=e[3]*f+e[7]*m+e[11]*g+e[15]):(i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=e[9],d=e[10],p=e[11],this[0]=i,this[1]=n,this[2]=s,this[3]=r,this[4]=o,this[5]=a,this[6]=l,this[7]=c,this[8]=h,this[9]=u,this[10]=d,this[11]=p,this[12]=i*f+o*m+h*g+e[12],this[13]=n*f+a*m+u*g+e[13],this[14]=s*f+l*m+d*g+e[14],this[15]=r*f+c*m+p*g+e[15]),this}rotate(t,e,i=this){let n,s,r,o,a,l,c,h,u,d,p,f,m,g,x,v,y,b,w,S,A,M,C,_,P,I,B,E;return P=e[0],1e-6>Math.abs(E=Math.hypot(P,I=e[1],B=e[2]))||(P*=E=1/E,I*=E,B*=E,n=Math.sin(t),r=1-(s=Math.cos(t)),o=i[0],a=i[1],l=i[2],c=i[3],h=i[4],u=i[5],d=i[6],p=i[7],f=i[8],m=i[9],g=i[10],x=i[11],v=P*P*r+s,y=I*P*r+B*n,b=B*P*r-I*n,w=P*I*r-B*n,S=I*I*r+s,A=B*I*r+P*n,M=P*B*r+I*n,C=I*B*r-P*n,_=B*B*r+s,this[0]=o*v+h*y+f*b,this[1]=a*v+u*y+m*b,this[2]=l*v+d*y+g*b,this[3]=c*v+p*y+x*b,this[4]=o*w+h*S+f*A,this[5]=a*w+u*S+m*A,this[6]=l*w+d*S+g*A,this[7]=c*w+p*S+x*A,this[8]=o*M+h*C+f*_,this[9]=a*M+u*C+m*_,this[10]=l*M+d*C+g*_,this[11]=c*M+p*C+x*_,i!==this&&(this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15])),this}scale(t,e=this){var i;let n,s,r;return n=(i="number"==typeof t?[t,t,t]:t)[0],s=i[1],r=i[2],this[0]=e[0]*n,this[1]=e[1]*n,this[2]=e[2]*n,this[3]=e[3]*n,this[4]=e[4]*s,this[5]=e[5]*s,this[6]=e[6]*s,this[7]=e[7]*s,this[8]=e[8]*r,this[9]=e[9]*r,this[10]=e[10]*r,this[11]=e[11]*r,this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this}add(t,e){return e?to(this,t,e):to(this,this,t),this}sub(t,e){return e?ta(this,t,e):ta(this,this,t),this}multiply(t,e){if(t.length)e?tn(this,t,e):tn(this,this,t);else this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,this[4]=this[4]*t,this[5]=this[5]*t,this[6]=this[6]*t,this[7]=this[7]*t,this[8]=this[8]*t,this[9]=this[9]*t,this[10]=this[10]*t,this[11]=this[11]*t,this[12]=this[12]*t,this[13]=this[13]*t,this[14]=this[14]*t,this[15]=this[15]*t;return this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this}fromPerspective({fov:t,aspect:e,near:i,far:n}={}){let s,r;return s=1/Math.tan(t/2),r=1/(i-n),this[0]=s/e,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=s,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=(n+i)*r,this[11]=-1,this[12]=0,this[13]=0,this[14]=2*n*i*r,this[15]=0,this}fromOrthogonal({left:t,right:e,bottom:i,top:n,near:s,far:r}){let o,a,l;return o=1/(t-e),a=1/(i-n),l=1/(s-r),this[0]=-2*o,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=-2*a,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=2*l,this[11]=0,this[12]=(t+e)*o,this[13]=(n+i)*a,this[14]=(r+s)*l,this[15]=1,this}fromQuaternion(t){let e,i,n,s,r,o,a,l,c,h,u,d,p,f,m,g;return e=t[0],i=t[1],n=t[2],s=t[3],r=e+e,o=i+i,a=n+n,l=e*r,c=i*r,h=i*o,u=n*r,d=n*o,p=n*a,f=s*r,m=s*o,g=s*a,this[0]=1-h-p,this[1]=c+g,this[2]=u-m,this[3]=0,this[4]=c-g,this[5]=1-l-p,this[6]=d+f,this[7]=0,this[8]=u+m,this[9]=d-f,this[10]=1-l-h,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){let e,i,n,s,r,o,a,l,c,h,u,d,p,f,m,g,x,v,y,b,w,S,A,M,C,_,P,I,B;return e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],x=e*o-i*r,v=e*a-n*r,y=e*l-s*r,b=i*a-n*o,w=i*l-s*o,S=n*l-s*a,A=c*f-h*p,M=c*m-u*p,C=c*g-d*p,_=h*m-u*f,P=h*g-d*f,(B=x*(I=u*g-d*m)-v*P+y*_+b*C-w*M+S*A)&&(B=1/B,this[0]=(o*I-a*P+l*_)*B,this[1]=(n*P-i*I-s*_)*B,this[2]=(f*S-m*w+g*b)*B,this[3]=(u*w-h*S-d*b)*B,this[4]=(a*C-r*I-l*M)*B,this[5]=(e*I-n*C+s*M)*B,this[6]=(m*y-p*S-g*v)*B,this[7]=(c*S-u*y+d*v)*B,this[8]=(r*P-o*C+l*A)*B,this[9]=(i*C-e*P-s*A)*B,this[10]=(p*w-f*y+g*x)*B,this[11]=(h*y-c*w-d*x)*B,this[12]=(o*M-r*_-a*A)*B,this[13]=(e*_-i*M+n*A)*B,this[14]=(f*v-p*b-m*x)*B,this[15]=(c*b-h*v+u*x)*B),this}compose(t,e,i){let n,s,r,o,a,l,c,h,u,d,p,f,m,g,x,v,y,b,w;return n=t[0],s=t[1],r=t[2],o=t[3],a=n+n,l=s+s,c=r+r,h=n*a,u=n*l,d=n*c,p=s*l,f=s*c,m=r*c,g=o*a,x=o*l,v=o*c,y=i[0],b=i[1],w=i[2],this[0]=(1-(p+m))*y,this[1]=(u+v)*y,this[2]=(d-x)*y,this[3]=0,this[4]=(u-v)*b,this[5]=(1-(h+m))*b,this[6]=(f+g)*b,this[7]=0,this[8]=(d+x)*w,this[9]=(f-g)*w,this[10]=(1-(h+p))*w,this[11]=0,this[12]=e[0],this[13]=e[1],this[14]=e[2],this[15]=1,this}decompose(t,e,i){let n,s,r,o,a,l,c;return n=T([this[0],this[1],this[2]]),s=T([this[4],this[5],this[6]]),r=T([this[8],this[9],this[10]]),0>ti(this)&&(n=-n),e[0]=this[12],e[1]=this[13],e[2]=this[14],o=this.slice(),a=1/n,l=1/s,c=1/r,o[0]*=a,o[1]*=a,o[2]*=a,o[4]*=l,o[5]*=l,o[6]*=l,o[8]*=c,o[9]*=c,o[10]*=c,tr(t,o),i[0]=n,i[1]=s,i[2]=r,this}getRotation(t){return tr(t,this),this}getTranslation(t){return t[0]=this[12],t[1]=this[13],t[2]=this[14],this}getScaling(t){return ts(t,this),this}getMaxScaleOnAxis(){let t,e,i,n,s,r,o,a,l;return t=this[0],e=this[1],i=this[2],n=this[4],s=this[5],r=this[6],o=this[8],Math.sqrt(Math.max(t*t+e*e+i*i,n*n+s*s+r*r,o*o+(a=this[9])*a+(l=this[10])*l))}lookAt(t,e,i){let n,s,r,o,a,l,c,h,u,d,p,f,m;return n=t[0],s=t[1],r=t[2],o=i[0],a=i[1],l=i[2],c=n-e[0],0==(d=c*c+(h=s-e[1])*h+(u=r-e[2])*u)?u=1:(c*=d=1/Math.sqrt(d),h*=d,u*=d),0==(d=(p=a*u-l*h)*p+(f=l*c-o*u)*f+(m=o*h-a*c)*m)&&(l?o+=1e-6:a?l+=1e-6:a+=1e-6,d=(p=a*u-l*h)*p+(f=l*c-o*u)*f+(m=o*h-a*c)*m),p*=d=1/Math.sqrt(d),f*=d,m*=d,this[0]=p,this[1]=f,this[2]=m,this[3]=0,this[4]=h*m-u*f,this[5]=u*p-c*m,this[6]=c*f-h*p,this[7]=0,this[8]=c,this[9]=h,this[10]=u,this[11]=0,this[12]=n,this[13]=s,this[14]=r,this[15]=1,this}determinant(){return ti(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}let tc=new tl;class th extends Array{constructor(t=0,e=t,i=t,n="YXZ"){super(t,e,i),this.order=n,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(t,e){let i=Reflect.set(...arguments);return i&&s.includes(e)&&t.onChange(),i}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=e,this._target[2]=i,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return!function(t,e,i="YXZ"){"XYZ"===i?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),.99999>Math.abs(e[8])?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===i?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),.99999>Math.abs(e[9])?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===i?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),.99999>Math.abs(e[6])?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===i?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),.99999>Math.abs(e[2])?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===i?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),.99999>Math.abs(e[1])?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===i&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),.99999>Math.abs(e[4])?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this._target,t,e),this.onChange(),this}fromQuaternion(t,e=this.order,i){return tc.fromQuaternion(t),this._target.fromRotationMatrix(tc,e),i||this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class tu{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new tl,this.worldMatrix=new tl,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new q,this.quaternion=new te,this.scale=new q(1),this.rotation=new th,this.up=new q(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function td(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=i[0],p=i[1],f=i[2],m=i[3],g=i[4],x=i[5],v=i[6],y=i[7],b=i[8];return t[0]=d*n+p*o+f*c,t[1]=d*s+p*a+f*h,t[2]=d*r+p*l+f*u,t[3]=m*n+g*o+x*c,t[4]=m*s+g*a+x*h,t[5]=m*r+g*l+x*u,t[6]=v*n+y*o+b*c,t[7]=v*s+y*a+b*h,t[8]=v*r+y*l+b*u,t}class tp extends Array{constructor(t=1,e=0,i=0,n=0,s=1,r=0,o=0,a=0,l=1){return super(t,e,i,n,s,r,o,a,l),this}set(t,e,i,n,s,r,o,a,l){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this[3]=n,this[4]=s,this[5]=r,this[6]=o,this[7]=a,this[8]=l,this)}translate(t,e=this){let i,n,s,r,o,a,l,c,h,u,d;return i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=t[0],d=t[1],this[0]=i,this[1]=n,this[2]=s,this[3]=r,this[4]=o,this[5]=a,this[6]=u*i+d*r+l,this[7]=u*n+d*o+c,this[8]=u*s+d*a+h,this}rotate(t,e=this){let i,n,s,r,o,a,l,c,h,u,d;return i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=Math.sin(t),d=Math.cos(t),this[0]=d*i+u*r,this[1]=d*n+u*o,this[2]=d*s+u*a,this[3]=d*r-u*i,this[4]=d*o-u*n,this[5]=d*a-u*s,this[6]=l,this[7]=c,this[8]=h,this}scale(t,e=this){let i,n;return i=t[0],n=t[1],this[0]=i*e[0],this[1]=i*e[1],this[2]=i*e[2],this[3]=n*e[3],this[4]=n*e[4],this[5]=n*e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this}multiply(t,e){return e?td(this,t,e):td(this,this,t),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this}fromMatrix4(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[4],this[4]=t[5],this[5]=t[6],this[6]=t[8],this[7]=t[9],this[8]=t[10],this}fromQuaternion(t){let e,i,n,s,r,o,a,l,c,h,u,d,p,f,m,g;return e=t[0],i=t[1],n=t[2],s=t[3],r=e+e,o=i+i,a=n+n,l=e*r,c=i*r,h=i*o,u=n*r,d=n*o,p=n*a,f=s*r,m=s*o,g=s*a,this[0]=1-h-p,this[3]=c-g,this[6]=u+m,this[1]=c+g,this[4]=1-l-p,this[7]=d-f,this[2]=u-m,this[5]=d+f,this[8]=1-l-h,this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){let e,i,n,s,r,o,a,l,c,h,u,d,p;return e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],l=t[7],(p=e*(h=(c=t[8])*r-o*l)+i*(u=-c*s+o*a)+n*(d=l*s-r*a))&&(p=1/p,this[0]=h*p,this[1]=(-c*i+n*l)*p,this[2]=(o*i-n*r)*p,this[3]=u*p,this[4]=(c*e-n*a)*p,this[5]=(-o*e+n*s)*p,this[6]=d*p,this[7]=(-l*e+i*a)*p,this[8]=(r*e-i*s)*p),this}getNormalMatrix(t){let e,i,n,s,r,o,a,l,c,h,u,d,p,f,m,g,x,v,y,b,w,S,A,M,C,_,P,I,B;return e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],x=e*o-i*r,v=e*a-n*r,y=e*l-s*r,b=i*a-n*o,w=i*l-s*o,S=n*l-s*a,A=c*f-h*p,M=c*m-u*p,C=c*g-d*p,_=h*m-u*f,P=h*g-d*f,(B=x*(I=u*g-d*m)-v*P+y*_+b*C-w*M+S*A)&&(B=1/B,this[0]=(o*I-a*P+l*_)*B,this[1]=(a*C-r*I-l*M)*B,this[2]=(r*P-o*C+l*A)*B,this[3]=(n*P-i*I-s*_)*B,this[4]=(e*I-n*C+s*M)*B,this[5]=(i*C-e*P-s*A)*B,this[6]=(f*S-m*w+g*b)*B,this[7]=(m*y-p*S-g*v)*B,this[8]=(p*w-f*y+g*x)*B),this}}let tf=0;class tm extends tu{constructor(t,{geometry:e,program:i,mode:n=t.TRIANGLES,frustumCulled:s=!0,renderOrder:r=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=tf++,this.geometry=e,this.program=i,this.mode=n,this.frustumCulled=s,this.renderOrder=r,this.modelViewMatrix=new tl,this.normalMatrix=new tp,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}));let e=this.program.cullFace&&0>this.worldMatrix.determinant();this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}))}}let tg=new q,tx=1,tv=1,ty=!1;class tb{constructor(t,e={}){for(let i in t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=tx++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,e)this.addAttribute(i,e[i])}addAttribute(t,e){if(this.attributes[t]=e,e.id=tv++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){let e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((t,{name:e,type:i})=>{if(!this.attributes[e])return void console.warn(`active attribute ${e} not being supplied`);let n=this.attributes[e];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let s=1;35674===i&&(s=2),35675===i&&(s=3),35676===i&&(s=4);let r=n.size/s,o=1===s?0:s*s*4,a=1===s?0:4*s;for(let e=0;e<s;e++)this.gl.vertexAttribPointer(t+e,r,n.type,n.normalized,n.stride+o,n.offset+e*a),this.gl.enableVertexAttribArray(t+e),this.gl.renderer.vertexAttribDivisor(t+e,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((t,{name:e})=>{let i=this.attributes[e];i.needsUpdate&&this.updateAttribute(i)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;return t.data?t:ty?void 0:(console.warn("No position buffer data found to compute bounds"),ty=!0)}computeBoundingBox(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||(this.bounds={min:new q,max:new q,center:new q,scale:new q,radius:1/0});let n=this.bounds.min,s=this.bounds.max,r=this.bounds.center,o=this.bounds.scale;n.set(Infinity),s.set(-1/0);for(let t=0,r=e.length;t<r;t+=i){let i=e[t],r=e[t+1],o=e[t+2];n.x=Math.min(i,n.x),n.y=Math.min(r,n.y),n.z=Math.min(o,n.z),s.x=Math.max(i,s.x),s.y=Math.max(r,s.y),s.z=Math.max(o,s.z)}o.sub(s,n),r.add(n,s).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||this.computeBoundingBox(t);let n=0;for(let t=0,s=e.length;t<s;t+=i)tg.fromArray(e,t),n=Math.max(n,this.bounds.center.squaredDistance(tg));this.bounds.radius=Math.sqrt(n)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}class tw extends tb{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}function tS({hue:t=0,hoverIntensity:e=.2,rotateOnHover:i=!0,forceHoverState:n=!1}){let o=(0,r.useRef)(null),a=`
    precision highp float;
    attribute vec2 position;
    attribute vec2 uv;
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = vec4(position, 0.0, 1.0);
    }
  `,l=`
    precision highp float;

    uniform float iTime;
    uniform vec3 iResolution;
    uniform float hue;
    uniform float hover;
    uniform float rot;
    uniform float hoverIntensity;
    varying vec2 vUv;

    vec3 rgb2yiq(vec3 c) {
      float y = dot(c, vec3(0.299, 0.587, 0.114));
      float i = dot(c, vec3(0.596, -0.274, -0.322));
      float q = dot(c, vec3(0.211, -0.523, 0.312));
      return vec3(y, i, q);
    }
    
    vec3 yiq2rgb(vec3 c) {
      float r = c.x + 0.956 * c.y + 0.621 * c.z;
      float g = c.x - 0.272 * c.y - 0.647 * c.z;
      float b = c.x - 1.106 * c.y + 1.703 * c.z;
      return vec3(r, g, b);
    }
    
    vec3 adjustHue(vec3 color, float hueDeg) {
      float hueRad = hueDeg * 3.14159265 / 180.0;
      vec3 yiq = rgb2yiq(color);
      float cosA = cos(hueRad);
      float sinA = sin(hueRad);
      float i = yiq.y * cosA - yiq.z * sinA;
      float q = yiq.y * sinA + yiq.z * cosA;
      yiq.y = i;
      yiq.z = q;
      return yiq2rgb(yiq);
    }
    
    vec3 hash33(vec3 p3) {
      p3 = fract(p3 * vec3(0.1031, 0.11369, 0.13787));
      p3 += dot(p3, p3.yxz + 19.19);
      return -1.0 + 2.0 * fract(vec3(
        p3.x + p3.y,
        p3.x + p3.z,
        p3.y + p3.z
      ) * p3.zyx);
    }
    
    float snoise3(vec3 p) {
      const float K1 = 0.333333333;
      const float K2 = 0.166666667;
      vec3 i = floor(p + (p.x + p.y + p.z) * K1);
      vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);
      vec3 e = step(vec3(0.0), d0 - d0.yzx);
      vec3 i1 = e * (1.0 - e.zxy);
      vec3 i2 = 1.0 - e.zxy * (1.0 - e);
      vec3 d1 = d0 - (i1 - K2);
      vec3 d2 = d0 - (i2 - K1);
      vec3 d3 = d0 - 0.5;
      vec4 h = max(0.6 - vec4(
        dot(d0, d0),
        dot(d1, d1),
        dot(d2, d2),
        dot(d3, d3)
      ), 0.0);
      vec4 n = h * h * h * h * vec4(
        dot(d0, hash33(i)),
        dot(d1, hash33(i + i1)),
        dot(d2, hash33(i + i2)),
        dot(d3, hash33(i + 1.0))
      );
      return dot(vec4(31.316), n);
    }
    
    vec4 extractAlpha(vec3 colorIn) {
      float a = max(max(colorIn.r, colorIn.g), colorIn.b);
      return vec4(colorIn.rgb / (a + 1e-5), a);
    }
    
    const vec3 baseColor1 = vec3(0.611765, 0.262745, 0.996078);
    const vec3 baseColor2 = vec3(0.298039, 0.760784, 0.913725);
    const vec3 baseColor3 = vec3(0.062745, 0.078431, 0.600000);
    const float innerRadius = 0.6;
    const float noiseScale = 0.65;
    
    float light1(float intensity, float attenuation, float dist) {
      return intensity / (1.0 + dist * attenuation);
    }
    
    float light2(float intensity, float attenuation, float dist) {
      return intensity / (1.0 + dist * dist * attenuation);
    }
    
    vec4 draw(vec2 uv) {
      vec3 color1 = adjustHue(baseColor1, hue);
      vec3 color2 = adjustHue(baseColor2, hue);
      vec3 color3 = adjustHue(baseColor3, hue);
      
      float ang = atan(uv.y, uv.x);
      float len = length(uv);
      float invLen = len > 0.0 ? 1.0 / len : 0.0;
      
      float n0 = snoise3(vec3(uv * noiseScale, iTime * 0.5)) * 0.5 + 0.5;
      float r0 = mix(mix(innerRadius, 1.0, 0.4), mix(innerRadius, 1.0, 0.6), n0);
      float d0 = distance(uv, (r0 * invLen) * uv);
      float v0 = light1(1.0, 10.0, d0);
      v0 *= smoothstep(r0 * 1.05, r0, len);
      float cl = cos(ang + iTime * 2.0) * 0.5 + 0.5;
      
      float a = iTime * -1.0;
      vec2 pos = vec2(cos(a), sin(a)) * r0;
      float d = distance(uv, pos);
      float v1 = light2(1.5, 5.0, d);
      v1 *= light1(1.0, 50.0, d0);
      
      float v2 = smoothstep(1.0, mix(innerRadius, 1.0, n0 * 0.5), len);
      float v3 = smoothstep(innerRadius, mix(innerRadius, 1.0, 0.5), len);
      
      vec3 col = mix(color1, color2, cl);
      col = mix(color3, col, v0);
      col = (col + v1) * v2 * v3;
      col = clamp(col, 0.0, 1.0);
      
      return extractAlpha(col);
    }
    
    vec4 mainImage(vec2 fragCoord) {
      vec2 center = iResolution.xy * 0.5;
      float size = min(iResolution.x, iResolution.y);
      vec2 uv = (fragCoord - center) / size * 2.0;
      
      float angle = rot;
      float s = sin(angle);
      float c = cos(angle);
      uv = vec2(c * uv.x - s * uv.y, s * uv.x + c * uv.y);
      
      uv.x += hover * hoverIntensity * 0.1 * sin(uv.y * 10.0 + iTime);
      uv.y += hover * hoverIntensity * 0.1 * sin(uv.x * 10.0 + iTime);
      
      return draw(uv);
    }
    
    void main() {
      vec2 fragCoord = vUv * iResolution.xy;
      vec4 col = mainImage(fragCoord);
      gl_FragColor = vec4(col.rgb * col.a, col.a);
    }
  `;return(0,r.useEffect)(()=>{let s,r=o.current;if(!r)return;let c=new W({alpha:!0,premultipliedAlpha:!1}),h=c.gl;h.clearColor(0,0,0,0),r.appendChild(h.canvas);let u=new tw(h),d=new Y(h,{vertex:a,fragment:l,uniforms:{iTime:{value:0},iResolution:{value:new q(h.canvas.width,h.canvas.height,h.canvas.width/h.canvas.height)},hue:{value:t},hover:{value:0},rot:{value:0},hoverIntensity:{value:e}}}),p=new tm(h,{geometry:u,program:d});function f(){if(!r)return;let t=window.devicePixelRatio||1,e=r.clientWidth,i=r.clientHeight;c.setSize(e*t,i*t),h.canvas.style.width=e+"px",h.canvas.style.height=i+"px",d.uniforms.iResolution.value.set(h.canvas.width,h.canvas.height,h.canvas.width/h.canvas.height)}window.addEventListener("resize",f),f();let m=0,g=0,x=0,v=t=>{let e=r.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top,s=e.width,o=e.height,a=Math.min(s,o),l=(i-s/2)/a*2,c=(n-o/2)/a*2;m=+(.8>Math.sqrt(l*l+c*c))},y=()=>{m=0};r.addEventListener("mousemove",v),r.addEventListener("mouseleave",y);let b=r=>{s=requestAnimationFrame(b);let o=(r-g)*.001;g=r,d.uniforms.iTime.value=.001*r,d.uniforms.hue.value=t,d.uniforms.hoverIntensity.value=e;let a=n?1:m;d.uniforms.hover.value+=(a-d.uniforms.hover.value)*.1,i&&a>.5&&(x+=.3*o),d.uniforms.rot.value=x,c.render({scene:p})};return s=requestAnimationFrame(b),()=>{cancelAnimationFrame(s),window.removeEventListener("resize",f),r.removeEventListener("mousemove",v),r.removeEventListener("mouseleave",y),r.removeChild(h.canvas),h.getExtension("WEBGL_lose_context")?.loseContext()}},[t,e,i,n]),(0,s.jsx)("div",{ref:o,className:"w-full h-full"})}var tA=t.i(72091),tM=t.i(61052),tC=t.i(51513);let t_=({text:t="",highlightWords:e=[],trigger:i="click",backgroundColor:n="transparent",wireframes:o=!1,gravity:a=1,mouseConstraintStiffness:l=.2,fontSize:c="1rem"})=>{let h=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(null),[p,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!u.current)return;let i=t.split(" ").map(t=>{let i=e.some(e=>t.startsWith(e));return`<span
          class="inline-block mx-[2px] select-none ${i?"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 font-semibold":"text-white/70"}"
        >
          ${t}
        </span>`}).join(" ");u.current.innerHTML=i},[t,e]),(0,r.useEffect)(()=>{if("auto"===i)return void f(!0);if("scroll"===i&&h.current){let t=new IntersectionObserver(([e])=>{e.isIntersecting&&(f(!0),t.disconnect())},{threshold:.1});return t.observe(h.current),()=>t.disconnect()}},[i]),(0,r.useEffect)(()=>{if(!p)return;let{Engine:t,Render:e,World:i,Bodies:s,Runner:r,Mouse:c,MouseConstraint:f}=tC.default;if(!h.current||!d.current)return;let m=h.current.getBoundingClientRect(),g=m.width,x=m.height;if(g<=0||x<=0)return;let v=t.create();v.world.gravity.y=a;let y=e.create({element:d.current,engine:v,options:{width:g,height:x,background:n,wireframes:o}}),b={isStatic:!0,render:{fillStyle:"transparent"}},w=s.rectangle(g/2,x+25,g,50,b),S=s.rectangle(-25,x/2,50,x,b),A=s.rectangle(g+25,x/2,50,x,b),M=s.rectangle(g/2,-25,g,50,b);if(!u.current)return;let C=[...u.current.querySelectorAll("span")].map(t=>{let e=t.getBoundingClientRect(),i=e.left-m.left+e.width/2,n=e.top-m.top+e.height/2,r=s.rectangle(i,n,e.width,e.height,{render:{fillStyle:"transparent"},restitution:.8,frictionAir:.01,friction:.2});return tC.default.Body.setVelocity(r,{x:(Math.random()-.5)*5,y:0}),tC.default.Body.setAngularVelocity(r,(Math.random()-.5)*.05),{elem:t,body:r}});C.forEach(({elem:t,body:e})=>{t.style.position="absolute",t.style.left=`${e.position.x-e.bounds.max.x+e.bounds.min.x/2}px`,t.style.top=`${e.position.y-e.bounds.max.y+e.bounds.min.y/2}px`,t.style.transform="none"});let _=c.create(h.current),P=f.create(v,{mouse:_,constraint:{stiffness:l,render:{visible:!1}}});y.mouse=_,_.mousewheel&&(_.element.removeEventListener("mousewheel",_.mousewheel),_.element.removeEventListener("DOMMouseScroll",_.mousewheel),_.element.removeEventListener("wheel",_.mousewheel)),i.add(v.world,[w,S,A,M,P,...C.map(t=>t.body)]);let I=r.create();r.run(I,v),e.run(y);let B=()=>{C.forEach(({body:t,elem:e})=>{let{x:i,y:n}=t.position;e.style.left=`${i}px`,e.style.top=`${n}px`,e.style.transform=`translate(-50%, -50%) rotate(${t.angle}rad)`}),tC.default.Engine.update(v),requestAnimationFrame(B)};return B(),()=>{e.stop(y),r.stop(I),y.canvas&&d.current&&d.current.removeChild(y.canvas),i.clear(v.world,!1),t.clear(v)}},[p,a,o,n,l]);let m=()=>{p||"click"!==i&&"hover"!==i||f(!0)};return(0,s.jsxs)("div",{ref:h,className:"relative z-[1] w-full h-full cursor-pointer text-center overflow-hidden flex items-center justify-center",onClick:"click"===i?m:void 0,onMouseEnter:"hover"===i?m:void 0,children:[(0,s.jsx)("div",{ref:u,className:"inline-block font-light",style:{fontSize:c,lineHeight:1.4}}),(0,s.jsx)("div",{className:"absolute top-0 left-0 z-0",ref:d})]})};function tP({children:t,onSendToBack:e,sensitivity:i}){let n=x(0),r=x(0),a=C(r,[-100,100],[60,-60]),l=C(n,[-100,100],[-60,60]);return(0,s.jsx)(o.motion.div,{className:"absolute cursor-grab",style:{x:n,y:r,rotateX:a,rotateY:l},drag:!0,dragConstraints:{top:0,right:0,bottom:0,left:0},dragElastic:.6,whileTap:{cursor:"grabbing"},onDragEnd:function(t,s){Math.abs(s.offset.x)>i||Math.abs(s.offset.y)>i?e():(n.set(0),r.set(0))},children:t})}function tI({randomRotation:t=!1,sensitivity:e=200,cardDimensions:i={width:400,height:300},cardsData:n=[],animationConfig:a={stiffness:260,damping:20},sendToBackOnClick:l=!1,onCardChange:c}){let[h,u]=(0,r.useState)(n),[d,p]=(0,r.useState)(i);(0,r.useEffect)(()=>{let t=()=>{window.innerWidth<640?p({width:280,height:200}):window.innerWidth<768?p({width:320,height:240}):p(i)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[i]);let f=t=>{u(e=>{let i=[...e],n=i.findIndex(e=>e.id===t),[s]=i.splice(n,1);return i.unshift(s),c&&i.length>0&&c(i[i.length-1]),i})};return(0,s.jsx)("div",{className:"relative mx-auto",style:{width:d.width,height:d.height,perspective:600},children:h.map((i,n)=>{let r=t?10*Math.random()-5:0;return(0,s.jsx)(tP,{onSendToBack:()=>f(i.id),sensitivity:e,children:(0,s.jsx)(o.motion.div,{className:"rounded-2xl overflow-hidden border-4 border-white/20 shadow-2xl",onClick:()=>l&&f(i.id),animate:{rotateZ:(h.length-n-1)*4+r,scale:1+.06*n-.06*h.length,transformOrigin:"90% 90%"},initial:!1,transition:{type:"spring",stiffness:a.stiffness,damping:a.damping},style:{width:d.width,height:d.height},children:(0,s.jsx)("img",{src:i.img,alt:i.title||`card-${i.id}`,className:"w-full h-full object-cover pointer-events-none"})})},i.id)})})}let tB=[{title:"Lip-Sync Avatar Generation",description:"Generating lip-synced avatar videos from audio and source images/videos using open-source audio feature extractors and diffusion models.",tags:["Generative AI","Diffusion Models","Audio Processing","Open Source"],image:"/projects/lipsync_avatar_stunning.png"},{title:"LiveKit Agent Infrastructure",description:"Setting up a complete LiveKit agent with local STT, TTS, and LLM services, utilizing open-source models for a fully self-hosted solution.",tags:["LiveKit","Local LLM","STT/TTS","Agentic AI"],image:"/projects/livekit_agent_stunning.png"},{title:"Human-like Web Chatbot",description:"Built a more human-like chatbot using JS and open-source LLM APIs, featuring seamless email integration for direct communication.",tags:["Chatbot","Email Integration","Open Source LLM","JavaScript"],image:"/projects/web_chatbot_stunning.png"}],tE=["Python","HTML","PHP","CSS","JS (Beginner)"],tk=["Hugging Face","LangChain","CrewAI","PyTorch","LiveKit","TensorFlow","LlamaIndex","vLLM","Ollama","Rasa","Sentence Transformers"],tT=["Gen AI","Agentic AI","Conversational AI","RAG","Multimodal AI","Web Scraping","API Integrations"],tR=["WordPress","HTML","CSS","PHP","JS (Beginner)","TSX (Beginner)"],tj=[{role:"AI Software Engineer",company:"*astTECS Unified Communication Pvt Ltd",period:"Jun 2025 â€“ Present",description:"Specializing in voicebot and chatbot deployment, Avatar generation, and building RAG bots. Actively experimenting with open-source LLMs and running them locally for optimized performance."},{role:"AI Trainer",company:"Sambhav Foundation",period:"Dec 2024 â€“ Jun 2025",description:"Led engaging, hands-on AI/ML training sessions for over 500 students, fostering a deep understanding of intelligent systems and practical implementation."},{role:"Artificial Intelligence Intern",company:"CodSoft",period:"Aug 2023 â€“ Sep 2023",description:"Completed an intensive internship, deploying AI-driven systems to improve efficiency. Gained hands-on experience in leveraging AI tools for impactful project delivery."}];function tF(){let[t,e]=r.default.useState({title:"P.A.C.E - Pythonic AI for Coding",link:"/projects#project-5"});return(0,s.jsxs)("main",{className:"min-h-screen relative overflow-hidden",children:[(0,s.jsx)(tA.default,{items:[{label:"Home",href:"#home"},{label:"About",href:"#about"},{label:"Experience",href:"#experience"},{label:"Skills",href:"#skills"},{label:"Projects",href:"/projects"},{label:"Contact",href:"/contact"}],activeHref:"#home"}),(0,s.jsxs)("section",{id:"home",className:"min-h-screen flex flex-col justify-center items-center relative px-4 text-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-full h-full max-w-4xl",children:(0,s.jsx)(tS,{hue:260,hoverIntensity:2.5,rotateOnHover:!0,forceHoverState:!1})})}),(0,s.jsxs)(o.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1,ease:"easeOut"},className:"z-10 relative pointer-events-none",children:[(0,s.jsx)(o.motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-6 text-7xl md:text-9xl font-bold tracking-tighter bg-gradient-to-r from-white via-blue-200 to-purple-200 bg-clip-text text-transparent",children:"G Selva"}),(0,s.jsx)(o.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"mb-8",children:(0,s.jsxs)("h2",{className:"text-3xl md:text-4xl font-light text-white/90 tracking-wide inline-block relative",children:[(0,s.jsx)("span",{className:"relative z-10",children:"AI / ML Engineer"}),(0,s.jsx)(o.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 blur-xl -z-10",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})}),(0,s.jsxs)(o.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.8},className:"text-xl text-white/60 max-w-3xl mx-auto mb-12 leading-relaxed font-light",children:["Building the future with ",(0,s.jsx)("span",{className:"text-blue-400 font-medium",children:"Generative AI"}),",",(0,s.jsx)("span",{className:"text-purple-400 font-medium",children:" Agentic Systems"}),", and",(0,s.jsx)("span",{className:"text-pink-400 font-medium",children:" Deep Learning"})]}),(0,s.jsxs)(o.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.8},className:"flex gap-6 justify-center mb-12 pointer-events-auto",children:[(0,s.jsx)(tL,{href:"https://github.com/selva-aiworks",icon:(0,s.jsx)(a.Github,{}),label:"GitHub"}),(0,s.jsx)(tL,{href:"https://www.linkedin.com/in/selva-g",icon:(0,s.jsx)(l.Linkedin,{}),label:"LinkedIn"}),(0,s.jsx)(tL,{href:"mailto:selvaofficialmail@gmail.com",icon:(0,s.jsx)(c.Mail,{}),label:"Email"})]}),(0,s.jsxs)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.3,duration:.8},className:"flex flex-col md:flex-row gap-6 justify-center items-center text-sm text-white/50 pointer-events-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 glass-panel px-6 py-3 rounded-full hover:bg-white/10 transition-colors",children:[(0,s.jsx)(p.Phone,{className:"w-4 h-4"})," +91 9363087305"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 glass-panel px-6 py-3 rounded-full hover:bg-white/10 transition-colors",children:[(0,s.jsx)(d.MapPin,{className:"w-4 h-4"})," Bangalore, India"]})]})]})]}),(0,s.jsx)("section",{id:"about",className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-5xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsx)(o.motion.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!1},transition:{duration:.6},className:"mb-12 text-4xl md:text-5xl font-bold text-center bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent",children:"Professional Summary"}),(0,s.jsx)(o.motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!1},transition:{delay:.3,duration:.5},children:(0,s.jsx)(k,{variant:"blue",className:"w-full h-auto min-h-[350px] !aspect-auto",children:(0,s.jsx)("div",{className:"w-full h-full min-h-[20px] flex items-center justify-center p-6 md:p-10",children:(0,s.jsx)(t_,{text:"I'm an AI/ML Engineer (Class of 2024) passionate about bringing intelligent systems to life. My expertise spans Generative AI, AI Agents, and Conversational AI, with deep hands-on experience in Python, LangChain, RAG, and LiveKit. From crafting realistic Avatar Generation pipelines to deploying scalable STT/TTS systems, I love turning complex AI concepts into tangible, real-world solutions.",highlightWords:["AI/ML","Generative AI","AI Agents","Conversational AI","Python","LangChain","RAG","LiveKit","Avatar Generation","STT/TTS"],trigger:"click",backgroundColor:"transparent",wireframes:!1,gravity:.56,fontSize:"1.125rem",mouseConstraintStiffness:.9})})})})]})}),(0,s.jsx)("section",{id:"experience",className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-5xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-16 pl-6 border-l-4 border-blue-500/50",textClassName:"text-4xl md:text-5xl font-bold",children:"Experience"}),(0,s.jsx)("div",{className:"space-y-8",children:tj.map((t,e)=>(0,s.jsx)(o.motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!1},transition:{delay:.1*e,duration:.5},children:(0,s.jsx)(k,{variant:"default",className:"w-full h-auto min-h-[200px] !aspect-auto",children:(0,s.jsxs)("div",{className:"p-8 flex flex-col h-full w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-white",children:t.role}),(0,s.jsx)("span",{className:"text-white/40 font-mono text-sm",children:t.period})]}),(0,s.jsx)("div",{className:"text-lg text-blue-300 mb-4",children:t.company}),(0,s.jsx)("p",{className:"text-white/60 leading-relaxed",children:t.description})]})})},e))})]})}),(0,s.jsx)("section",{id:"skills",className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-5xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-16 pl-6 border-l-4 border-purple-500/50",textClassName:"text-4xl md:text-5xl font-bold",children:"Technical Skills"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsx)(tN,{title:"Languages",items:tE,index:0}),(0,s.jsx)(tN,{title:"Frameworks & Tools",items:tk,index:1}),(0,s.jsx)(tN,{title:"Specializations",items:tT,index:2}),(0,s.jsx)(tN,{title:"Web Development",items:tR,index:3,extra:(0,s.jsxs)("a",{href:"http://selva.rf.gd",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors text-sm flex items-center gap-2",children:["View Web Portfolio ",(0,s.jsx)(u.ExternalLink,{className:"w-3 h-3"})]})})]})]})}),(0,s.jsx)("section",{className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-5xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-16 pl-6 border-l-4 border-purple-500/50",textClassName:"text-4xl md:text-5xl font-bold",children:"Currently Working Projects"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:tB.map((t,e)=>(0,s.jsx)(o.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!1},transition:{delay:.1*e},className:"group relative",children:(0,s.jsxs)("div",{className:"h-full p-6 border border-white/10 rounded-[25px] bg-white/5 backdrop-blur-sm hover:bg-white/10 transition-all duration-300 flex flex-col",children:[(0,s.jsx)("div",{className:"relative h-48 mb-4 rounded-xl overflow-hidden",children:(0,s.jsx)("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:t.title}),(0,s.jsx)("p",{className:"text-white/60 text-sm leading-relaxed mb-4 flex-grow",children:t.description}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tags.map(t=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-white/5 border border-white/10 rounded-full text-white/50",children:t},t))})]})},e))})]})}),(0,s.jsx)("section",{id:"projects",className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-5xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-16 pl-6 border-l-4 border-pink-500/50",textClassName:"text-4xl md:text-5xl font-bold",children:"Key Projects"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-10",children:[(0,s.jsx)(tI,{cardsData:[{id:1,img:"/projects/pace.png",title:"P.A.C.E - Pythonic AI for Coding",link:"/projects#project-5"},{id:2,img:"/projects/webs.png",title:"W.E.B.S - Web Extraction System",link:"/projects#project-6"},{id:3,img:"/projects/speech.png",title:"Speech Recognition System",link:"/projects#project-3"},{id:4,img:"/projects/sports.png",title:"Sports Classification AI",link:"/projects#project-2"}],randomRotation:!0,sensitivity:180,sendToBackOnClick:!0,cardDimensions:{width:600,height:500},animationConfig:{stiffness:260,damping:20},onCardChange:t=>e({title:t.title||"",link:t.link||""})}),(0,s.jsx)(o.motion.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.3},children:(0,s.jsxs)("a",{href:t.link,className:"group inline-flex items-center gap-2 px-4 py-2 text-sm md:px-6 md:py-3 md:text-base bg-gradient-to-r from-pink-500/20 to-purple-500/20 border border-pink-500/30 rounded-full hover:from-pink-500/30 hover:to-purple-500/30 hover:border-pink-500/50 transition-all duration-300",children:[(0,s.jsxs)("span",{className:"text-white/90 font-medium",children:["View ",t.title]}),(0,s.jsx)(h,{className:"w-4 h-4 text-pink-400 group-hover:translate-x-1 transition-transform"})]})})]})]})}),(0,s.jsx)("section",{className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-12",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsxs)(o.motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!1},transition:{delay:.2},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-8",textClassName:"text-3xl md:text-4xl font-bold",children:"Education"}),(0,s.jsx)(k,{variant:"blue",className:"w-full h-auto min-h-[150px] !aspect-auto",children:(0,s.jsxs)("div",{className:"p-8 w-full h-full",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2 text-white",children:"B.E. in Artificial Intelligence & Machine Learning"}),(0,s.jsx)("p",{className:"text-white/60 mb-2",children:"AMC Engineering College, Bangalore"}),(0,s.jsx)("p",{className:"text-white/40 text-sm",children:"2020 â€“ 2024 â€¢ CGPA: 8.06/10"})]})})]}),(0,s.jsxs)(o.motion.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!1},transition:{delay:.3},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-8",textClassName:"text-3xl md:text-4xl font-bold",children:"Certifications"}),(0,s.jsx)(k,{variant:"default",className:"w-full h-auto min-h-[200px] !aspect-auto",children:(0,s.jsxs)("div",{className:"p-8 space-y-4 w-full h-full",children:[(0,s.jsx)(tO,{title:"DeepLearning.AI Specialization",issuer:"Stanford University"}),(0,s.jsx)(tO,{title:"Introduction to Data Science",issuer:"Infosys"}),(0,s.jsx)(tO,{title:"Python for Deep Learning",issuer:"Udemy"})]})})]})]})}),(0,s.jsx)("section",{className:"py-24 px-4 relative z-10",children:(0,s.jsxs)(o.motion.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!1,margin:"-100px"},transition:{duration:.6},children:[(0,s.jsx)(tM.default,{baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mb-12 flex justify-center",textClassName:"text-3xl md:text-4xl font-bold text-center",children:"Achievements"}),(0,s.jsxs)(o.motion.div,{className:"glass-panel p-8 md:p-12 rounded-3xl space-y-6",initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!1},transition:{delay:.3,duration:.5},children:[(0,s.jsx)(tD,{text:"Stanford University DeepLearning.AI Machine Learning Specialization â€“ Certified in supervised, unsupervised, and reinforcement learning."}),(0,s.jsx)(tD,{text:"Omdena Local Chapter Challenge Contributor â€“ Developed an AI-powered mobile application for crop disease detection in Kenya."}),(0,s.jsx)(tD,{text:"AI Project Development & Innovation â€“ Designed and deployed multiple AI-driven solutions in NLP and computer vision."}),(0,s.jsx)(tD,{text:"AI Training & Community Contribution â€“ Led hands-on AI/ML training sessions for aspiring engineers."})]})]})})]})}function tL({href:t,icon:e,label:i}){return(0,s.jsxs)(o.motion.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-full glass-card hover:bg-white/20 hover:scale-110 transition-all group relative overflow-hidden","aria-label":i,whileHover:{scale:1.1},whileTap:{scale:.95},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity"}),r.default.cloneElement(e,{className:"w-6 h-6 text-white/70 group-hover:text-white transition-colors relative z-10"})]})}function tN({title:t,items:e,index:i,extra:n}){return(0,s.jsx)(o.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!1},transition:{delay:.1*i,duration:.5},children:(0,s.jsxs)("div",{className:"w-full h-full min-h-[200px] p-8 border border-white/10 rounded-[25px] bg-white/5 backdrop-blur-sm",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-6 text-white/90",children:t}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3",children:e.map(t=>(0,s.jsx)("span",{className:"px-3 py-1.5 bg-white/5 rounded-lg text-sm text-white/70 border border-white/5 hover:bg-white/10 transition-colors",children:t},t))}),n&&(0,s.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:n})]})})}function tO({title:t,issuer:e}){return(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-white/90",children:t}),(0,s.jsx)("div",{className:"text-sm text-white/50",children:e})]})]})}function tD({text:t}){return(0,s.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-400 mt-2.5 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-white/70 leading-relaxed",children:t})]})}t.s(["default",()=>tF],47332)}]);